<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elasticsearch breaking changes | Installation and Upgrade Guide [7.7] | Elastic</title>
<link rel="home" href="index.html" title="Installation and Upgrade Guide [7.7]"/>
<link rel="up" href="elastic-stack-breaking-changes.html" title="Breaking changes"/>
<link rel="prev" href="beats-breaking-changes.html" title="Beats breaking changes"/>
<link rel="next" href="elasticsearch-hadoop-breaking-changes.html" title="Elasticsearch Hadoop breaking changes"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Installation and Upgrade/7.7"/>
<meta name="DC.subject" content="Elastic Stack"/>
<meta name="DC.identifier" content="7.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Installation and Upgrade Guide [7.7]</a></span>
»
<span class="breadcrumb-link"><a href="elastic-stack-breaking-changes.html">Breaking changes</a></span>
»
<span class="breadcrumb-node">Elasticsearch breaking changes</span>
</div>
<div class="navheader">
<span class="prev">
<a href="beats-breaking-changes.html">« Beats breaking changes</a>
</span>
<span class="next">
<a href="elasticsearch-hadoop-breaking-changes.html">Elasticsearch Hadoop breaking changes »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="elasticsearch-breaking-changes"></a>Elasticsearch breaking changes</h2>
</div></div></div>

<p>This list summarizes the most important breaking changes in Elasticsearch 7.7.1. For
the complete list, go to <a href="/guide/en/elasticsearch/reference/7.7/breaking-changes.html" class="ulink" target="_top">Elasticsearch breaking changes</a>.</p>
<h3><a id="breaking_77_logging_changes"></a>Logging changes</h3>
<h4><a id="_loggers_under_org_elasticsearch_action_now_log_at_info_level_by_default"></a>Loggers under <code class="literal">org.elasticsearch.action</code> now log at <code class="literal">INFO</code> level by default</h4>
<p>The default log level for most loggers is <code class="literal">INFO</code>, but in earlier versions
loggers in the <code class="literal">org.elasticsearch.action.*</code> hierarchy emitted log messages at
<code class="literal">DEBUG</code> level by default. This sometimes resulted in a good deal of unnecessary
log noise. From 7.7 onwards the default log level for logger in this hierarchy
is now <code class="literal">INFO</code>, in line with most other loggers. If needed, you can recover the
pre-7.7 default behaviour by adjusting your <a href="/guide/en/elasticsearch/reference/7.7/logging.html" class="ulink" target="_top">logging</a>.</p>
<h3><a id="breaking_77_mapping_changes"></a>Mapping changes</h3>
<h4><a id="stricter-mapping-validation"></a>Validation for dynamic templates</h4>
<p>So far misconfiguration of dynamic templates have been discovered when indexing
a document with an unmapped field only. In Elasticsearch 8.0 and later versions, dynamic mappings
have stricter validation, done at mapping update time. Invalid updates, such as using
incorrect analyzer settings or unknown field types, fail. For
indices created in Elasticsearch 7.7 and later version, the update succeeds but emits a warning.</p>
<h3><a id="breaking_77_settings_changes"></a>Settings changes</h3>
<h4><a id="deprecate-listener-thread-pool"></a><code class="literal">thread_pool.listener.size</code> and <code class="literal">thread_pool.listener.queue_size</code> have been deprecated</h4>
<p>The listener thread pool is no longer used internally by Elasticsearch.
Therefore, these settings have been deprecated. You can safely remove these
settings from the configuration of your nodes.</p>
<h4><a id="deprecate-cluster-remote-connect"></a><code class="literal">cluster.remote.connect</code> is deprecated in favor of <code class="literal">node.remote_cluster_client</code></h4>
<p>Previously the setting <code class="literal">cluster.remote.connect</code> was used to configure whether or
not the local node is capable of acting as a remote cluster client in
cross-cluster search and cross-cluster replication. This setting is deprecated
in favor of <code class="literal">node.remote_cluster_client</code> serves the same purpose and identifies
the local node as having the <code class="literal">remote_cluster_client</code> role.</p>
<h4><a id="deprecate-missing-realm-order"></a>Authentication realm <code class="literal">order</code> will be a required config in version 8.0.0.</h4>
<p>The <code class="literal">order</code> config will be required in version 8.0.0 for authentication realm
configuration of any type. If the <code class="literal">order</code> config is missing for a realm, the node
will fail to start.</p>
<h4><a id="deprecate-duplicated-realm-orders"></a>Authentication realm <code class="literal">order</code> uniqueness will be enforced in version 8.0.0.</h4>
<p>The <code class="literal">order</code> config of authentication realms must be unique in version 8.0.0.
If you configure more than one realm of any type with the same order, the node will fail to start.</p>
<h4><a id="deprecate-insecure-monitoring-password"></a>Deprecation of insecure monitoring password setting</h4>
<p>The <code class="literal">auth.password</code> setting for the monitoring HTTP exporter has been deprecated and will be
removed in version 8.0.0. Please use the <code class="literal">auth.secure_password</code> setting instead.</p>
<h3><a id="breaking_77_search_changes"></a>Search changes</h3>
<h4><a id="_consistent_rounding_of_range_queries_on_date_range_fields"></a>Consistent rounding of range queries on <code class="literal">date_range</code> fields</h4>
<p><code class="literal">range</code> queries on <code class="literal">date_range</code> field currently can have slightly differently
boundaries than their equivalent query on a pure <code class="literal">date</code> field. This can e.g.
happen when using date math or dates that don&#8217;t specify up to the last
millisecond. While queries on <code class="literal">date</code> field round up to the latest millisecond
for <code class="literal">gt</code> and <code class="literal">lte</code> boundaries, the same queries on <code class="literal">date_range</code> fields didn&#8217;t
do this. The behavior is now the same for both field types like documented in
<a href="/guide/en/elasticsearch/reference/7.7/query-dsl-range-query.html#range-query-date-math-rounding" class="ulink" target="_top">Date math and rounding</a>.</p>
<h4><a id="_pipeline_aggregation_validation_errors"></a>Pipeline aggregation validation errors</h4>
<p>The pipeline aggregation validation has been moved to the coordinating node.
Those errors that used to return HTTP 500s/Internal Server Errors now return
400/Bad Request and we now return a list of validation errors rather than the
first one we encounter.</p>
<h3><a id="breaking_77_highlighters_changes"></a>Highlighters changes</h3>
<h4><a id="_ignored_keyword_values_are_no_longer_highlighted"></a>Ignored keyword values are no longer highlighted</h4>
<p>If a keyword value was ignored during indexing because of its length
(<code class="literal">ignore_above</code> parameter was applied), Elasticsearch doesn&#8217;t attempt to
highlight it anymore, which means no highlights are produced for
ignored values.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="beats-breaking-changes.html">« Beats breaking changes</a>
</span>
<span class="next">
<a href="elasticsearch-hadoop-breaking-changes.html">Elasticsearch Hadoop breaking changes »</a>
</span>
</div>
</div>
</body>
</html>
