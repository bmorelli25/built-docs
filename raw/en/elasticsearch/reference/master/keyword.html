<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Keyword datatype | Elasticsearch Reference [master] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [master]"/>
<link rel="up" href="mapping-types.html" title="Field datatypes"/>
<link rel="prev" href="parent-join.html" title="Join datatype"/>
<link rel="next" href="nested.html" title="Nested datatype"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [master]</a></span>
»
<span class="breadcrumb-link"><a href="mapping.html">Mapping</a></span>
»
<span class="breadcrumb-link"><a href="mapping-types.html">Field datatypes</a></span>
»
<span class="breadcrumb-node">Keyword datatype</span>
</div>
<div class="navheader">
<span class="prev">
<a href="parent-join.html">« Join datatype</a>
</span>
<span class="next">
<a href="nested.html">Nested datatype »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="keyword"></a>Keyword datatype<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/mapping/types/keyword.asciidoc">edit</a></h2>
</div></div></div>

<p>A field to index structured content such as IDs, email addresses, hostnames,
status codes, zip codes or tags.</p>
<p>They are typically used for filtering (<em>Find me all blog posts where
<code class="literal">status</code> is <code class="literal">published</code></em>), for sorting, and for aggregations. Keyword
fields are only searchable by their exact value.</p>
<p>If you need to index full text content such as email bodies or product
descriptions, it is likely that you should rather use a <a class="xref" href="text.html" title="Text datatype"><code class="literal">text</code></a> field.</p>
<p>Below is an example of a mapping for a keyword field:</p>
<div class="pre_wrapper lang-csharp alternative">
<pre class="programlisting prettyprint lang-csharp alternative">var createIndexResponse = client.Indices.Create("my_index", c =&gt; c
    .Map(m =&gt; m
        .Properties(p =&gt; p
            .Keyword(k =&gt; k
                .Name("tags")
            )
        )
    )
);</pre>
</div>
<div class="pre_wrapper lang-python alternative">
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my_index",
    body={"mappings": {"properties": {"tags": {"type": "keyword"}}}},
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my_index',
  body: {
    mappings: {
      properties: {
        tags: {
          type: 'keyword'
        }
      }
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-go alternative">
<pre class="programlisting prettyprint lang-go alternative">res, err := es.Indices.Create(
	"my_index",
	es.Indices.Create.WithBody(strings.NewReader(`{
	  "mappings": {
	    "properties": {
	      "tags": {
	        "type": "keyword"
	      }
	    }
	  }
	}`)),
)
fmt.Println(res, err)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: 'my_index',
  body: {
    mappings: {
      properties: {
        tags: {
          type: 'keyword'
        }
      }
    }
  }
})
console.log(response)</pre>
</div>
<a id="46c4b0dfb674825f9579203d41e7f404"></a>
<div class="pre_wrapper lang-console default has-csharp has-python has-ruby has-go has-js">
<pre class="programlisting prettyprint lang-console default has-csharp has-python has-ruby has-go has-js">PUT my_index
{
  "mappings": {
    "properties": {
      "tags": {
        "type":  "keyword"
      }
    }
  }
}</pre>
</div>
<div class="console_widget has-csharp has-python has-ruby has-go has-js" data-snippet="snippets/661.console"></div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Mapping numeric identifiers</h3>
<p>Not all numeric data should be mapped as a <a class="xref" href="number.html" title="Numeric datatypes">numeric</a> field datatype.
Elasticsearch optimizes numeric fields, such as <code class="literal">integer</code> or <code class="literal">long</code>, for
<a class="xref" href="query-dsl-range-query.html" title="Range query"><code class="literal">range</code></a> queries. However, <a class="xref" href="keyword.html" title="Keyword datatype"><code class="literal">keyword</code></a> fields
are better for <a class="xref" href="query-dsl-term-query.html" title="Term query"><code class="literal">term</code></a> and other
<a class="xref" href="term-level-queries.html" title="Term-level queries">term-level</a> queries.</p>
<p>Identifiers, such as an ISBN or a product ID, are rarely used in <code class="literal">range</code>
queries. However, they are often retrieved using term-level queries.</p>
<p>Consider mapping a numeric identifier as a <code class="literal">keyword</code> if:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You don&#8217;t plan to search for the identifier data using
<a class="xref" href="query-dsl-range-query.html" title="Range query"><code class="literal">range</code></a> queries.
</li>
<li class="listitem">
Fast retrieval is important. <code class="literal">term</code> query searches on <code class="literal">keyword</code> fields are
often faster than <code class="literal">term</code> searches on numeric fields.
</li>
</ul>
</div>
<p>If you&#8217;re unsure which to use, you can use a <a class="xref" href="multi-fields.html" title="fields">multi-field</a> to map
the data as both a <code class="literal">keyword</code> <em>and</em> a numeric datatype.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="keyword-params"></a>Parameters for keyword fields<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/mapping/types/keyword.asciidoc">edit</a></h3>
</div></div></div>
<p>The following parameters are accepted by <code class="literal">keyword</code> fields:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<a class="xref" href="doc-values.html" title="doc_values"><code class="literal">doc_values</code></a>
</p>
</td>
<td valign="top">
<p>
Should the field be stored on disk in a column-stride fashion, so that it
can later be used for sorting, aggregations, or scripting? Accepts <code class="literal">true</code>
(default) or <code class="literal">false</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="eager-global-ordinals.html" title="eager_global_ordinals"><code class="literal">eager_global_ordinals</code></a>
</p>
</td>
<td valign="top">
<p>
Should global ordinals be loaded eagerly on refresh? Accepts <code class="literal">true</code> or <code class="literal">false</code>
(default). Enabling this is a good idea on fields that are frequently used for
terms aggregations.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="multi-fields.html" title="fields"><code class="literal">fields</code></a>
</p>
</td>
<td valign="top">
<p>
Multi-fields allow the same string value to be indexed in multiple ways for
different purposes, such as one field for search and a multi-field for
sorting and aggregations.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="ignore-above.html" title="ignore_above"><code class="literal">ignore_above</code></a>
</p>
</td>
<td valign="top">
<p>
Do not index any string longer than this value.  Defaults to <code class="literal">2147483647</code>
so that all values would be accepted. Please however note that default
dynamic mapping rules create a sub <code class="literal">keyword</code> field that overrides this
default by setting <code class="literal">ignore_above: 256</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="mapping-index.html" title="index"><code class="literal">index</code></a>
</p>
</td>
<td valign="top">
<p>
Should the field be searchable? Accepts <code class="literal">true</code> (default) or <code class="literal">false</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="index-options.html" title="index_options"><code class="literal">index_options</code></a>
</p>
</td>
<td valign="top">
<p>
What information should be stored in the index, for scoring purposes.
Defaults to <code class="literal">docs</code> but can also be set to <code class="literal">freqs</code> to take term frequency into account
when computing scores.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="norms.html" title="norms"><code class="literal">norms</code></a>
</p>
</td>
<td valign="top">
<p>
Whether field-length should be taken into account when scoring queries.
Accepts <code class="literal">true</code> or <code class="literal">false</code> (default).
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="null-value.html" title="null_value"><code class="literal">null_value</code></a>
</p>
</td>
<td valign="top">
<p>
Accepts a string value which is substituted for any explicit <code class="literal">null</code>
values.  Defaults to <code class="literal">null</code>, which means the field is treated as missing.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="mapping-store.html" title="store"><code class="literal">store</code></a>
</p>
</td>
<td valign="top">
<p>
Whether the field value should be stored and retrievable separately from
the <a class="xref" href="mapping-source-field.html" title="_source field"><code class="literal">_source</code></a> field. Accepts <code class="literal">true</code> or <code class="literal">false</code>
(default).
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="similarity.html" title="similarity"><code class="literal">similarity</code></a>
</p>
</td>
<td valign="top">
<p>
Which scoring algorithm or <em>similarity</em> should be used. Defaults
to <code class="literal">BM25</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="normalizer.html" title="normalizer"><code class="literal">normalizer</code></a>
</p>
</td>
<td valign="top">
<p>
How to pre-process the keyword prior to indexing. Defaults to <code class="literal">null</code>,
meaning the keyword is kept as-is.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">split_queries_on_whitespace</code>
</p>
</td>
<td valign="top">
<p>
Whether <a class="xref" href="full-text-queries.html" title="Full text queries">full text queries</a> should split the input on whitespace
when building a query for this field.
Accepts <code class="literal">true</code> or <code class="literal">false</code> (default).
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="mapping-field-meta.html" title="meta"><code class="literal">meta</code></a>
</p>
</td>
<td valign="top">
<p>
Metadata about the field.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Indexes imported from 2.x do not support <code class="literal">keyword</code>. Instead they will
attempt to downgrade <code class="literal">keyword</code> into <code class="literal">string</code>. This allows you to merge modern
mappings with legacy mappings. Long lived indexes will have to be recreated
before upgrading to 6.x but mapping downgrade gives you the opportunity to do
the recreation on your own schedule.</p>
</div>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="parent-join.html">« Join datatype</a>
</span>
<span class="next">
<a href="nested.html">Nested datatype »</a>
</span>
</div>
</div>
</body>
</html>
