<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Get API
        | Elasticsearch Reference [master]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch Reference [master]" /><link rel="up" href="docs.html" title="Document APIs" /><link rel="prev" href="docs-index_.html" title="Index API" /><link rel="next" href="docs-delete.html" title="Delete API" /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="master" /></head><body><div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span> » <span class="breadcrumb-link"><a href="docs.html">Document APIs</a></span> » <span class="breadcrumb-node">Get API</span></div><div class="navheader"><span class="prev"><a href="docs-index_.html">
              « 
              Index API</a>
           
        </span><span class="next">
           
          <a href="docs-delete.html">Delete API
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="docs-get"></a>Get API<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Retrieves the specified JSON document from an index.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="docs-get-api-request"></a>Request<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><code class="literal">GET &lt;index&gt;/_doc/&lt;_id&gt;</code></p><p><code class="literal">HEAD &lt;index&gt;/_doc/&lt;_id&gt;</code></p><p><code class="literal">GET &lt;index&gt;/_source/&lt;_id&gt;</code></p><p><code class="literal">HEAD &lt;index&gt;/_source/&lt;_id&gt;</code></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="docs-get-api-desc"></a>Description<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You use GET to retrieve a document and its source or stored fields from a
particular index. Use HEAD to verify that a document exists. You can
use the <code class="literal">_source</code> resource retrieve just the document source or verify
that it exists.</p><h5><a id="realtime"></a>Realtime<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>By default, the get API is realtime, and is not affected by the refresh
rate of the index (when data will become visible for search). If a document
has been updated but is not yet refreshed, the get API will issue a refresh
call in-place to make the document visible. This will also make other documents
changed since the last refresh visible. In order to disable realtime GET,
one can set the <code class="literal">realtime</code> parameter to <code class="literal">false</code>.</p><h5><a id="get-source-filtering"></a>Source filtering<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>By default, the get operation returns the contents of the <code class="literal">_source</code> field unless
you have used the <code class="literal">stored_fields</code> parameter or if the <code class="literal">_source</code> field is disabled.
You can turn off <code class="literal">_source</code> retrieval by using the <code class="literal">_source</code> parameter:</p><div class="pre_wrapper alternative lang-php"><pre class="alternative programlisting prettyprint lang-php">$params = [
    'index'   =&gt; 'twitter',
    'id'      =&gt; '0',
    '_source' =&gt; false,
];
$response = $client-&gt;get($params);</pre></div><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var getResponse = client.Get&lt;Tweet&gt;(0, g =&gt; g
    .Index("twitter")
    .SourceEnabled(false)
);</pre></div><div class="pre_wrapper alternative lang-python"><pre class="alternative programlisting prettyprint lang-python">response = es.get(
    index='twitter',
    id=0,
    _source=False,
)</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.get(index: 'twitter', id: 0, _source: false)</pre></div><div class="pre_wrapper default has-php has-csharp has-python has-ruby lang-console"><pre class="default has-php has-csharp has-python has-ruby programlisting prettyprint lang-console">GET twitter/_doc/0?_source=false</pre></div><div class="console_widget has-php has-csharp has-python has-ruby" data-snippet="snippets/1194.console"></div><p>If you only need one or two fields from the <code class="literal">_source</code>, use the <code class="literal">_source_includes</code>
or <code class="literal">_source_excludes</code> parameters to include or filter out particular fields.
This can be especially helpful with large documents where partial retrieval can
save on network overhead. Both parameters take a comma separated list
of fields or wildcard expressions. Example:</p><div class="pre_wrapper alternative lang-php"><pre class="alternative programlisting prettyprint lang-php">$params = [
    'index'            =&gt; 'twitter',
    'id'               =&gt; '0',
    '_source_includes' =&gt; '*.id',
    '_source_excludes' =&gt; 'entities',
];
$response = $client-&gt;get($params);</pre></div><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var getResponse = client.Get&lt;Tweet&gt;(0, g =&gt; g
    .Index("twitter")
    .SourceIncludes("*.id")
    .SourceExcludes("entities")
);</pre></div><div class="pre_wrapper alternative lang-python"><pre class="alternative programlisting prettyprint lang-python">response = es.get(
    index='twitter',
    id=0,
    _source_includes='*.id',
    _source_excludes='entities',
)</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.get(index: 'twitter', id: 0, _source_includes: '*.id', _source_excludes: 'entities')</pre></div><div class="pre_wrapper default has-php has-csharp has-python has-ruby lang-console"><pre class="default has-php has-csharp has-python has-ruby programlisting prettyprint lang-console">GET twitter/_doc/0?_source_includes=*.id&amp;_source_excludes=entities</pre></div><div class="console_widget has-php has-csharp has-python has-ruby" data-snippet="snippets/1195.console"></div><p>If you only want to specify includes, you can use a shorter notation:</p><div class="pre_wrapper alternative lang-php"><pre class="alternative programlisting prettyprint lang-php">$params = [
    'index'   =&gt; 'twitter',
    'id'      =&gt; '0',
    '_source' =&gt; '*.id,retweeted',
];
$response = $client-&gt;get($params);</pre></div><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var getResponse = client.Get&lt;Tweet&gt;(0, g =&gt; g
    .Index("twitter")
    .SourceIncludes("*.id,retweeted")
);</pre></div><div class="pre_wrapper alternative lang-python"><pre class="alternative programlisting prettyprint lang-python">response = es.get(
    index='twitter',
    id=0,
    _source='*.id,retweeted',
)</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.get(index: 'twitter', id: 0, _source_includes: '*.id,retweeted')</pre></div><div class="pre_wrapper default has-php has-csharp has-python has-ruby lang-console"><pre class="default has-php has-csharp has-python has-ruby programlisting prettyprint lang-console">GET twitter/_doc/0?_source=*.id,retweeted</pre></div><div class="console_widget has-php has-csharp has-python has-ruby" data-snippet="snippets/1196.console"></div><h5><a id="get-routing"></a>Routing<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>If routing is used during indexing, the routing value also needs to be
specified to retrieve a document. For example:</p><div class="pre_wrapper alternative lang-php"><pre class="alternative programlisting prettyprint lang-php">$params = [
    'index'   =&gt; 'twitter',
    'id'      =&gt; '1',
    'routing' =&gt; 'user1',
];
$response = $client-&gt;get($params);</pre></div><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var getResponse = client.Get&lt;Tweet&gt;(2, g =&gt; g
    .Index("twitter")
    .Routing("user1")
);</pre></div><div class="pre_wrapper alternative lang-python"><pre class="alternative programlisting prettyprint lang-python">response = es.get(
    index='twitter',
    id=1,
    routing='user1',
)</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.get(index: 'twitter', id: 1, routing: 'user1')</pre></div><div class="pre_wrapper default has-php has-csharp has-python has-ruby lang-console"><pre class="default has-php has-csharp has-python has-ruby programlisting prettyprint lang-console">GET twitter/_doc/2?routing=user1</pre></div><div class="console_widget has-php has-csharp has-python has-ruby" data-snippet="snippets/1197.console"></div><p>This request gets the tweet with id <code class="literal">2</code>, but it is routed based on the
user. The document is not fetched if the correct routing is not specified.</p><h5><a id="preference"></a>Preference<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>Controls a <code class="literal">preference</code> of which shard replicas to execute the get
request on. By default, the operation is randomized between the shard
replicas.</p><p>The <code class="literal">preference</code> can be set to:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">_local</code></span></dt><dd>The operation will prefer to be executed on a local
allocated shard if possible.</dd><dt><span class="term">Custom (string) value</span></dt><dd>A custom value will be used to guarantee that
the same shards will be used for the same custom value. This can help
with "jumping values" when hitting different shards in different refresh
states. A sample value can be something like the web session id, or the
user name.</dd></dl></div><h5><a id="get-refresh"></a>Refresh<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The <code class="literal">refresh</code> parameter can be set to <code class="literal">true</code> in order to refresh the
relevant shard before the get operation and make it searchable. Setting
it to <code class="literal">true</code> should be done after careful thought and verification that
this does not cause a heavy load on the system (and slows down
indexing).</p><h5><a id="get-distributed"></a>Distributed<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The get operation gets hashed into a specific shard id. It then gets
redirected to one of the replicas within that shard id and returns the
result. The replicas are the primary shard and its replicas within that
shard id group. This means that the more replicas we have, the
better GET scaling we will have.</p><h5><a id="get-versioning"></a>Versioning support<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>You can use the <code class="literal">version</code> parameter to retrieve the document only if
its current version is equal to the specified one. This behavior is the same
for all version types with the exception of version type <code class="literal">FORCE</code> which always
retrieves the document. Note that <code class="literal">FORCE</code> version type is deprecated.</p><p>Internally, Elasticsearch has marked the old document as deleted and added an
entirely new document. The old version of the document doesn’t disappear
immediately, although you won’t be able to access it. Elasticsearch cleans up
deleted documents in the background as you continue to index more data.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="docs-get-api-path-params"></a>Path parameters<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">&lt;index&gt;</code></span></dt><dd>(Required, string) Name of the index that contains the document.</dd><dt><span class="term"><code class="literal">&lt;_id&gt;</code></span></dt><dd>(Required, string) Unique identifier of the document.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="docs-get-api-query-params"></a>Query parameters<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">preference</code></span></dt><dd>(Optional, string) Specify the node or shard the operation should
be performed on (default: random).</dd><dt><span class="term"><code class="literal">realtime</code></span></dt><dd>(Optional, boolean) Set to <code class="literal">false</code> to disable real time GET
(default: <code class="literal">true</code>). See <a class="xref" href="docs-get.html#realtime" title="Realtime">Realtime</a>.</dd><dt><span class="term"><code class="literal">refresh</code></span></dt><dd>(Optional, enum) If <code class="literal">true</code>, Elasticsearch refreshes the affected shards to make this
operation visible to search, if <code class="literal">wait_for</code> then wait for a refresh to make
this operation visible to search, if <code class="literal">false</code> do nothing with refreshes.
Valid values: <code class="literal">true</code>, <code class="literal">false</code>, <code class="literal">wait_for</code>. Default: <code class="literal">false</code>.</dd><dt><span class="term"><code class="literal">routing</code></span></dt><dd>(Optional, string) Target the specified primary shard.</dd><dt><span class="term"><code class="literal">stored_fields</code></span></dt><dd>(Optional, boolean) Set to <code class="literal">true</code> to retrieve the document fields stored in the
index rather than the document <code class="literal">_source</code> (default: <code class="literal">false</code>).</dd><dt><span class="term"><code class="literal">_source</code></span></dt><dd>(Optional, list) Set to <code class="literal">false</code> to disable source retrieval (default: <code class="literal">true</code>).
 You can also specify a comma-separated list of the fields
you want to retrieve.</dd><dt><span class="term"><code class="literal">_source_excludes</code></span></dt><dd>(Optional, list) Specify the source fields you want to exclude.</dd><dt><span class="term"><code class="literal">_source_includes</code></span></dt><dd>(Optional, list) Specify the source fields you want to retrieve.</dd><dt><span class="term"><code class="literal">version</code></span></dt><dd>(Optional, integer) Explicit version number for concurrency control.
The specified version must match the current version of the document for the
request to succeed.</dd><dt><span class="term"><code class="literal">version_type</code></span></dt><dd>(Optional, enum) Specific version type: <code class="literal">internal</code>, <code class="literal">external</code>,
<code class="literal">external_gte</code>, <code class="literal">force</code>.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="docs-get-api-response-body"></a>Response body<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">_index</code></span></dt><dd>The name of the index the document belongs to.</dd><dt><span class="term"><code class="literal">_id</code></span></dt><dd>The unique identifier for the document.</dd><dt><span class="term"><code class="literal">_version</code></span></dt><dd>The document version. Incremented each time the document is updated.</dd><dt><span class="term"><code class="literal">_seq_no</code></span></dt><dd>The sequence number assigned to the document for the indexing
operation. Sequence numbers are used to ensure an older version of a document
doesn’t overwrite a newer version. See <a class="xref" href="docs-index_.html#optimistic-concurrency-control-index" title="Optimistic concurrency control">Optimistic concurrency control</a>.</dd><dt><span class="term"><code class="literal">_primary_term</code></span></dt><dd>The primary term assigned to the document for the indexing operation.
See <a class="xref" href="docs-index_.html#optimistic-concurrency-control-index" title="Optimistic concurrency control">Optimistic concurrency control</a>.</dd><dt><span class="term"><code class="literal">found</code></span></dt><dd>Indicates whether the document exists: <code class="literal">true</code> or <code class="literal">false</code>.</dd><dt><span class="term"><code class="literal">_routing</code></span></dt><dd>The explicit routing, if set.</dd><dt><span class="term"><span class="emphasis"><em>_source</em></span></span></dt><dd>If <code class="literal">found</code> is <code class="literal">true</code>, contains the document data formatted in JSON.
Excluded if the <code class="literal">_source</code> parameter is set to <code class="literal">false</code> or the <code class="literal">stored_fields</code>
paramter is set to <code class="literal">true</code>.</dd><dt><span class="term"><span class="emphasis"><em>_fields</em></span></span></dt><dd>If the <code class="literal">stored_fields</code> parameter is set to <code class="literal">true</code> and <code class="literal">found</code> is
<code class="literal">true</code>, contains the document fields stored in the index.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="docs-get-api-example"></a>Examples<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Retrieve the JSON document with the <code class="literal">_id</code> 0 from the <code class="literal">twitter</code> index:</p><div class="pre_wrapper alternative lang-php"><pre class="alternative programlisting prettyprint lang-php">$params = [
    'index' =&gt; 'twitter',
    'id'    =&gt; '0',
];
$response = $client-&gt;get($params);</pre></div><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var getResponse = client.Get&lt;Tweet&gt;(0, g =&gt; g.Index("twitter"));</pre></div><div class="pre_wrapper alternative lang-python"><pre class="alternative programlisting prettyprint lang-python">response = es.get(
    index='twitter',
    id=0,
)</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.get(index: 'twitter', id: 0)</pre></div><div class="pre_wrapper default has-php has-csharp has-python has-ruby lang-console"><pre class="default has-php has-csharp has-python has-ruby programlisting prettyprint lang-console">GET twitter/_doc/0</pre></div><div class="console_widget has-php has-csharp has-python has-ruby" data-snippet="snippets/1198.console"></div><p>The API returns the following result:</p><div class="pre_wrapper lang-console-result"><pre class="programlisting prettyprint lang-console-result">{
    "_index" : "twitter",
    "_id" : "0",
    "_version" : 1,
    "_seq_no" : 10,
    "_primary_term" : 1,
    "found": true,
    "_source" : {
        "user" : "kimchy",
        "date" : "2009-11-15T14:12:12",
        "likes": 0,
        "message" : "trying out Elasticsearch"
    }
}</pre></div><p>Check to see if a document with the <code class="literal">_id</code> 0 exists:</p><div class="pre_wrapper alternative lang-php"><pre class="alternative programlisting prettyprint lang-php">$params = [
    'index' =&gt; 'twitter',
    'id'    =&gt; '0',
];
$response = $client-&gt;exists($params);</pre></div><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var existsResponse = client.DocumentExists&lt;Tweet&gt;(0, g =&gt; g.Index("twitter"));</pre></div><div class="pre_wrapper alternative lang-python"><pre class="alternative programlisting prettyprint lang-python">response = es.exists(
    index='twitter',
    id=0,
)</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.exists(index: 'twitter', id: 0)</pre></div><div class="pre_wrapper default has-php has-csharp has-python has-ruby lang-console"><pre class="default has-php has-csharp has-python has-ruby programlisting prettyprint lang-console">HEAD twitter/_doc/0</pre></div><div class="console_widget has-php has-csharp has-python has-ruby" data-snippet="snippets/1199.console"></div><p>Elasticsearch returns a status code of <code class="literal">200 - OK</code> if the document exists, or
<code class="literal">404 - Not Found</code> if it doesn’t.</p><h5><a id="_source"></a>Get the source field only<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>Use the <code class="literal">&lt;index&gt;/_source/&lt;id&gt;</code> resource to get
just the <code class="literal">_source</code> field of a document. For example:</p><div class="pre_wrapper alternative lang-php"><pre class="alternative programlisting prettyprint lang-php">$params = [
    'index' =&gt; 'twitter',
    'id'    =&gt; '1',
];
$response = $client-&gt;getSource($params);</pre></div><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var sourceResponse = client.Source&lt;Tweet&gt;(1, s =&gt; s.Index("twitter"));</pre></div><div class="pre_wrapper alternative lang-python"><pre class="alternative programlisting prettyprint lang-python">response = es.get_source(
    index='twitter',
    id=1,
)</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.get_source(index: 'twitter', id: 1)</pre></div><div class="pre_wrapper default has-php has-csharp has-python has-ruby lang-console"><pre class="default has-php has-csharp has-python has-ruby programlisting prettyprint lang-console">GET twitter/_source/1</pre></div><div class="console_widget has-php has-csharp has-python has-ruby" data-snippet="snippets/1200.console"></div><p>You can use the source filtering parameters to control which parts of the
<code class="literal">_source</code> are returned:</p><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var sourceFilteringResponse = client.Source&lt;Tweet&gt;(1, s =&gt; s
    .Index("twitter")
    .SourceIncludes("*.id")
    .SourceExcludes("entities")
);</pre></div><div class="pre_wrapper alternative lang-python"><pre class="alternative programlisting prettyprint lang-python">response = es.get_source(
    index='twitter',
    id=1,
    _source_includes='*.id',
    _source_excludes='entities',
)</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.get_source(index: 'twitter', id: 1, _source_includes: '*.id', _source_excludes: 'entities')</pre></div><div class="pre_wrapper default has-csharp has-python has-ruby lang-console"><pre class="default has-csharp has-python has-ruby programlisting prettyprint lang-console">GET twitter/_source/1/?_source_includes=*.id&amp;_source_excludes=entities</pre></div><div class="console_widget has-csharp has-python has-ruby" data-snippet="snippets/1201.console"></div><p>You can use HEAD with the <code class="literal">_source</code> endpoint to efficiently
test whether or not the document _source exists. A document’s source is not
available if it is disabled in the <a class="link" href="mapping-source-field.html" title="_source field">mapping</a>.</p><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var sourceExistsResponse = client.SourceExists&lt;Tweet&gt;(1, s =&gt; s.Index("twitter"));</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.exists_source(index: 'twitter', id: 1, type: '_doc')</pre></div><div class="pre_wrapper default has-csharp has-ruby lang-console"><pre class="default has-csharp has-ruby programlisting prettyprint lang-console">HEAD twitter/_source/1</pre></div><div class="console_widget has-csharp has-ruby" data-snippet="snippets/1202.console"></div><h5><a id="get-stored-fields"></a>Get stored fields<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/get.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>Use the <code class="literal">stored_fields</code> parameter to specify the set of stored fields you want
to retrieve. Any requested fields that are not stored are ignored.
Consider for instance the following mapping:</p><div class="pre_wrapper alternative lang-php"><pre class="alternative programlisting prettyprint lang-php">$params = [
    'index' =&gt; 'twitter',
    'body'  =&gt; [
        'mappings' =&gt; [
            'properties' =&gt; [
                'counter' =&gt; [
                    'type'  =&gt; 'integer',
                    'store' =&gt; false,
                ],
                'tags' =&gt; [
                    'type'  =&gt; 'keyword',
                    'store' =&gt; true,
                ],
            ],
        ],
    ],
];
$response = $client-&gt;indices()-&gt;putMapping($params);</pre></div><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var createIndexResponse = client.Indices.Create("twitter", c =&gt; c
    .Map&lt;Tweet&gt;(m =&gt; m
        .Properties(p =&gt; p
            .Number(n =&gt; n
                .Name(f =&gt; f.Counter)
                .Type(NumberType.Integer)
                .Store(false)
            )
            .Keyword(k =&gt; k
                .Name(f =&gt; f.Tags)
                .Store(true)
            )
        )
    )
);</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.indices.create(index: 'twitter', body: {
    mappings: {properties: {
        counter: {type: 'integer',
                  store: false},
        tags: {type: 'keyword',
               store: true}
    }
    }
})
response = client.index(index: 'twitter', id: 1, body: {counter: 1, tags: ['red']})</pre></div><div class="pre_wrapper default has-php has-csharp has-ruby lang-console"><pre class="default has-php has-csharp has-ruby programlisting prettyprint lang-console">PUT twitter
{
   "mappings": {
       "properties": {
          "counter": {
             "type": "integer",
             "store": false
          },
          "tags": {
             "type": "keyword",
             "store": true
          }
       }
   }
}</pre></div><div class="console_widget has-php has-csharp has-ruby" data-snippet="snippets/1203.console"></div><p>Now we can add a document:</p><div class="pre_wrapper alternative lang-php"><pre class="alternative programlisting prettyprint lang-php">$params = [
    'index' =&gt; 'twitter',
    'id'    =&gt; '1',
    'body'  =&gt; [
        'counter' =&gt; 1,
        'tags'    =&gt; ['red'],
    ],
];
$response = $client-&gt;index($params);</pre></div><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var indexResponse = client.Index(new Tweet
{
    Counter = 1,
    Tags = new[] { "red" }
}, i =&gt; i.Index("twitter").Id(1));</pre></div><div class="pre_wrapper alternative lang-python"><pre class="alternative programlisting prettyprint lang-python">response = es.index(
    index='twitter',
    id=1,
    body={
        'counter': 1,
        'tags': ['red'],
    },
)</pre></div><div class="pre_wrapper default has-php has-csharp has-python lang-console"><pre class="default has-php has-csharp has-python programlisting prettyprint lang-console">PUT twitter/_doc/1
{
    "counter" : 1,
    "tags" : ["red"]
}</pre></div><div class="console_widget has-php has-csharp has-python" data-snippet="snippets/1204.console"></div><p>And then try to retrieve it:</p><div class="pre_wrapper alternative lang-php"><pre class="alternative programlisting prettyprint lang-php">$params = [
    'index'  =&gt; 'twitter',
    'id'     =&gt; '1',
    'fields' =&gt; 'tags,counter',
];
$response = $client-&gt;get($params);</pre></div><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var getResponse = client.Get&lt;Tweet&gt;(1, g =&gt; g
    .Index("twitter")
    .StoredFields(
        f =&gt; f.Tags,
        f =&gt; f.Counter)
);</pre></div><div class="pre_wrapper alternative lang-python"><pre class="alternative programlisting prettyprint lang-python">response = es.get(
    index='twitter',
    id=1,
    stored_fields='tags,counter',
)</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.get(index: 'twitter', id: 1, stored_fields: 'tags,counter')</pre></div><div class="pre_wrapper default has-php has-csharp has-python has-ruby lang-console"><pre class="default has-php has-csharp has-python has-ruby programlisting prettyprint lang-console">GET twitter/_doc/1?stored_fields=tags,counter</pre></div><div class="console_widget has-php has-csharp has-python has-ruby" data-snippet="snippets/1205.console"></div><p>The API returns the following result:</p><div class="pre_wrapper lang-console-result"><pre class="programlisting prettyprint lang-console-result">{
   "_index": "twitter",
   "_id": "1",
   "_version": 1,
   "_seq_no" : 22,
   "_primary_term" : 1,
   "found": true,
   "fields": {
      "tags": [
         "red"
      ]
   }
}</pre></div><p>Field values fetched from the document itself are always returned as an array.
Since the <code class="literal">counter</code> field is not stored, the get request  ignores it.</p><p>You can also retrieve metadata fields like the <code class="literal">_routing</code> field:</p><div class="pre_wrapper alternative lang-php"><pre class="alternative programlisting prettyprint lang-php">$params = [
    'index' =&gt; 'twitter',
    'id'    =&gt; '2',
    'body'  =&gt; [
        'counter' =&gt; 1,
        'tags'    =&gt; ['white'],
    ],
    'routing' =&gt; 'user1',
];
$response = $client-&gt;index($params);</pre></div><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var indexResponse = client.Index(new Tweet
{
    Counter = 1,
    Tags = new[] { "white" }
}, i =&gt; i
.Index("twitter")
.Id(2)
.Routing("user1")
);</pre></div><div class="pre_wrapper alternative lang-python"><pre class="alternative programlisting prettyprint lang-python">response = es.index(
    index='twitter',
    id=1,
    body={
        'counter': 1,
        'tags': ['white'],
    },
    routing='user1',
)</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.index(index: 'twitter', id: 2, routing: 'user1', body: {counter: 1, tags: ['white']})</pre></div><div class="pre_wrapper default has-php has-csharp has-python has-ruby lang-console"><pre class="default has-php has-csharp has-python has-ruby programlisting prettyprint lang-console">PUT twitter/_doc/2?routing=user1
{
    "counter" : 1,
    "tags" : ["white"]
}</pre></div><div class="console_widget has-php has-csharp has-python has-ruby" data-snippet="snippets/1206.console"></div><div class="pre_wrapper alternative lang-php"><pre class="alternative programlisting prettyprint lang-php">$params = [
    'index'   =&gt; 'twitter',
    'id'      =&gt; '2',
    'routing' =&gt; 'user1',
    'fields'  =&gt; 'tags,counter',
];
$response = $client-&gt;get($params);</pre></div><div class="pre_wrapper alternative lang-csharp"><pre class="alternative programlisting prettyprint lang-csharp">var getResponse = client.Get&lt;Tweet&gt;(2, g =&gt; g
    .Index("twitter")
    .Routing("user1")
    .StoredFields(
        f =&gt; f.Tags,
        f =&gt; f.Counter)
);</pre></div><div class="pre_wrapper alternative lang-python"><pre class="alternative programlisting prettyprint lang-python">response = es.get(
    index='twitter',
    id=2,
    routing='user1',
    stored_fields='tags,counter',
)</pre></div><div class="pre_wrapper alternative lang-ruby"><pre class="alternative programlisting prettyprint lang-ruby">response = client.get(index: 'twitter', id: 2, routing: 'user1', stored_fields: 'tags,counter')</pre></div><div class="pre_wrapper default has-php has-csharp has-python has-ruby lang-console"><pre class="default has-php has-csharp has-python has-ruby programlisting prettyprint lang-console">GET twitter/_doc/2?routing=user1&amp;stored_fields=tags,counter</pre></div><div class="console_widget has-php has-csharp has-python has-ruby" data-snippet="snippets/1207.console"></div><p>The API returns the following result:</p><div class="pre_wrapper lang-console-result"><pre class="programlisting prettyprint lang-console-result">{
   "_index": "twitter",
   "_id": "2",
   "_version": 1,
   "_seq_no" : 13,
   "_primary_term" : 1,
   "_routing": "user1",
   "found": true,
   "fields": {
      "tags": [
         "white"
      ]
   }
}</pre></div><p>Only leaf fields can be retrieved with the <code class="literal">stored_field</code> option. Object fields
can’t be returned—​if specified, the request fails.</p></div></div><div class="navfooter"><span class="prev"><a href="docs-index_.html">
              « 
              Index API</a>
           
        </span><span class="next">
           
          <a href="docs-delete.html">Delete API
               »
            </a></span></div></body></html>
