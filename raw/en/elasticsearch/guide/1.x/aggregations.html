<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Aggregations | Elasticsearch: The Definitive Guide [1.x] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide [1.x]"/>
<link rel="up" href="index.html" title="Elasticsearch: The Definitive Guide [1.x]"/>
<link rel="prev" href="phonetic-matching.html" title="Phonetic Matching"/>
<link rel="next" href="aggs-high-level.html" title="High-Level Concepts"/>
<meta name="DC.type" content="Learn/Docs/Legacy/Elasticsearch/Definitive Guide/1.x"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="1.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
This information applies to version 1.x of Elasticsearch. For the
most up to date information, see the current version of the
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html">
Elasticsearch Reference</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide [1.x]</a></span>
»
<span class="breadcrumb-node">Aggregations</span>
</div>
<div class="navheader">
<span class="prev">
<a href="phonetic-matching.html">« Phonetic Matching</a>
</span>
<span class="next">
<a href="aggs-high-level.html">High-Level Concepts »</a>
</span>
</div>
<div class="part">
<div class="titlepage"><div><div>
<h1 class="title"><a id="aggregations"></a>Aggregations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-definitive-guide/edit/1.x/03_Aggregations.asciidoc">edit</a></h1>
</div></div></div>
<div class="openblock partintro">
<div class="content">
<p>Until this point, this book has been dedicated to search.  With search,
we have a query and we want to find a subset of documents that
match the query.  We are looking for the proverbial needle(s) in the
haystack.</p>
<p>With aggregations, we zoom out to get an overview of our data.  Instead of
looking for individual documents, we want to analyze and summarize our complete
set of data:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
How many needles are in the haystack?
</li>
<li class="listitem">
What is the average length of the needles?
</li>
<li class="listitem">
What is the median length of the needles, broken down by manufacturer?
</li>
<li class="listitem">
How many needles were added to the haystack each month?
</li>
</ul>
</div>
<p>Aggregations can answer more subtle questions too:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
What are your most popular needle manufacturers?
</li>
<li class="listitem">
Are there any unusual or anomalous clumps of needles?
</li>
</ul>
</div>
<p>Aggregations allow us to ask sophisticated questions of our data.  And yet, while
the functionality is completely different from search, it leverages the
same data-structures.  This means aggregations execute quickly and are
<em>near real-time</em>, just like search.</p>
<p>This is extremely powerful for reporting and dashboards.  Instead of performing
<em>rollups</em> of your data (<em>that crusty Hadoop job that takes a week to run</em>),
you can visualize your data in real time, allowing you to respond immediately.
Your report changes as your data changes, rather than being pre-calculated, out of
date and irrelevant.</p>
<p>Finally, aggregations operate alongside search requests. This means you can
both search/filter documents <em>and</em> perform analytics at the same time, on the
same data, in a single request.  And because aggregations are calculated in the
context of a user&#8217;s search, you&#8217;re not just displaying a count of four-star hotels&#8212;&#8203;you&#8217;re displaying a count of four-star hotels that <em>match their search criteria</em>.</p>
<p>Aggregations are so powerful that many companies have built large Elasticsearch
clusters solely for analytics.</p>
</div>
</div>











</div>
<div class="navfooter">
<span class="prev">
<a href="phonetic-matching.html">« Phonetic Matching</a>
</span>
<span class="next">
<a href="aggs-high-level.html">High-Level Concepts »</a>
</span>
</div>
</div>
</body>
</html>
