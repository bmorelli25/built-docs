<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Creating an Index | Elasticsearch: The Definitive Guide [master] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide [master]"/>
<link rel="up" href="index-management.html" title="Index Management"/>
<link rel="prev" href="index-management.html" title="Index Management"/>
<link rel="next" href="_deleting_an_index.html" title="Deleting an Index"/>
<meta name="DC.type" content="Learn/Docs/Legacy/Elasticsearch/Definitive Guide/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
This information may not apply to the latest version of Elasticsearch.
For the most up to date information, see the current version of the
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html">
Elasticsearch Reference</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide [master]</a></span>
»
<span class="breadcrumb-link"><a href="getting-started.html">Getting Started</a></span>
»
<span class="breadcrumb-link"><a href="index-management.html">Index Management</a></span>
»
<span class="breadcrumb-node">Creating an Index</span>
</div>
<div class="navheader">
<span class="prev">
<a href="index-management.html">« Index Management</a>
</span>
<span class="next">
<a href="_deleting_an_index.html">Deleting an Index »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_creating_an_index"></a>Creating an Index<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-definitive-guide/edit/master/070_Index_Mgmt/05_Create_Delete.asciidoc">edit</a></h2>
</div></div></div>
<p>Until now, we have created a new index by simply indexing a document into it. The index is created with the default settings, and new fields are added to the type mapping by using dynamic mapping. Now we need more control over the process: we want to ensure that the index has been created with the appropriate number of primary shards, and that analyzers and mappings are set up <em>before</em> we index any data.</p>
<p>To do this, we have to create the index manually, passing in any settings or
type mappings in the request body, as follows:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">PUT /my_index
{
    "settings": { ... any settings ... },
    "mappings": {
        "type_one": { ... any mappings ... },
        "type_two": { ... any mappings ... },
        ...
    }
}</pre>
</div>
<p>In fact, if you want to, you can prevent the automatic creation of indices by
adding the following setting to the <code class="literal">config/elasticsearch.yml</code> file on each
node:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">action.auto_create_index: false</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Later, we discuss how you can use <a class="xref" href="index-templates.html" title="Index Templates">Index Templates</a> to preconfigure
automatically created indices. This is particularly useful when indexing log
data: you log into an index whose name includes the date and, as midnight
rolls over, a new properly configured index automatically springs into
existence.</p>
</div>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="index-management.html">« Index Management</a>
</span>
<span class="next">
<a href="_deleting_an_index.html">Deleting an Index »</a>
</span>
</div>
</div>
</body>
</html>
