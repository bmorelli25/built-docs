<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Unreleased | APM Java Agent Reference [master] | Elastic</title>
<link rel="home" href="index.html" title="APM Java Agent Reference [master]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes.html" title="Release notes"/>
<link rel="next" href="release-notes-1.x.html" title="Java Agent version 1.x"/>
<meta name="DC.type" content="Learn/Docs/APM Java Agent/Reference/master"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">APM Java Agent Reference [master]</a></span>
»
<span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
»
<span class="breadcrumb-node">Unreleased</span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="release-notes-1.x.html">Java Agent version 1.x »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_unreleased"></a>Unreleased<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/master/CHANGELOG.asciidoc">edit</a></h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-1.17.0"></a>1.17.0 - YYYY/MM/DD<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/master/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_breaking_changes"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/master/CHANGELOG.asciidoc">edit</a></h5>
<h5><a id="_features"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/master/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Log files are now rotated after they reach <a class="xref" href="config-logging.html#config-log-file-size" title="log_file_size ()"><code class="literal">log_file_size</code> (<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono">1.17.0</span>]
<span class="Admonishment-detail">
Added in 1.17.0.
</span>
</span>)</a>.
There will always be one history file <code class="literal">${log_file}.1</code>.
</li>
<li class="listitem">
Add <a class="xref" href="config-logging.html#config-log-format-sout" title="log_format_sout ()"><code class="literal">log_format_sout</code> (<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono">1.17.0</span>]
<span class="Admonishment-detail">
Added in 1.17.0.
</span>
</span>)</a> and <a class="xref" href="config-logging.html#config-log-format-file" title="log_format_file ()"><code class="literal">log_format_file</code> (<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono">1.17.0</span>]
<span class="Admonishment-detail">
Added in 1.17.0.
</span>
</span>)</a> with the options <code class="literal">PLAIN_TEXT</code> and <code class="literal">JSON</code>.
The latter uses <a href="https://github.com/elastic/ecs-logging-java" class="ulink" target="_top">ecs-logging-java</a> to format the logs.
</li>
<li class="listitem">
Exposing <a class="xref" href="config-core.html#config-classes-excluded-from-instrumentation" title="classes_excluded_from_instrumentation"><code class="literal">classes_excluded_from_instrumentation</code></a> config - <a href="https://github.com/elastic/apm-agent-java/pull/1187" class="ulink" target="_top">#1187</a>
</li>
<li class="listitem">
Overhaul of the <code class="literal">ExecutorService</code> instrumentation that avoids issues like ``ClassCastException``s - <a href="https://github.com/elastic/apm-agent-java/pull/1206" class="ulink" target="_top">#1206</a>
</li>
<li class="listitem">
Support for <code class="literal">ForJoinPool</code> and <code class="literal">ScheduledExecutorService</code> (see <a class="xref" href="supported-technologies-details.html#supported-async-frameworks" title="Asynchronous frameworks">Asynchronous frameworks</a>)
</li>
<li class="listitem">
Support for <code class="literal">ExecutorService#invokeAny</code> and <code class="literal">ExecutorService#invokeAll</code>
</li>
</ul>
</div>
<h5><a id="_bug_fixes"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/master/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes <code class="literal">IndexOutOfBoundsException</code> that can occur when profiler-inferred spans are enabled.
This also makes the profiler more resilient by just removing the call tree related to the exception (which might be in an invalid state)
as opposed to stopping the profiler when an exception occurs.
</li>
<li class="listitem">
Fix <code class="literal">NumberFormatException</code> when parsing Ingres/Actian JDBC connection strings - <a href="https://github.com/elastic/apm-agent-java/pull/1198" class="ulink" target="_top">#1198</a>
</li>
<li class="listitem">
Prevent agent from overriding JVM configured truststore when not using HTTPS for communication with APM server - <a href="https://github.com/elastic/apm-agent-java/pull/1203" class="ulink" target="_top">#1203</a>
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="release-notes-1.x.html">Java Agent version 1.x »</a>
</span>
</div>
</div>
</body>
</html>
