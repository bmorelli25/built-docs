<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Datafeeds
        | Elastic Stack Overview [master]
      | Elastic
    </title><link rel="home" href="index.html" title="Elastic Stack Overview [master]" /><link rel="up" href="ml-concepts.html" title="Concepts" /><link rel="prev" href="ml-jobs.html" title="Anomaly detection jobs" /><link rel="next" href="ml-buckets.html" title="Buckets" /><meta name="DC.type" content="Learn/Docs/Elastic Stack/Overview/master" /><meta name="DC.subject" content="Elastic Stack" /><meta name="DC.identifier" content="master" /></head><body><div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elastic Stack Overview
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="xpack-ml.html">Machine learning anomaly detection</a></span> » <span class="breadcrumb-link"><a href="ml-concepts.html">Concepts</a></span> » <span class="breadcrumb-node">Datafeeds</span></div><div class="navheader"><span class="prev"><a href="ml-jobs.html">
              « 
              Anomaly detection jobs</a>
           
        </span><span class="next">
           
          <a href="ml-buckets.html">Buckets
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="ml-dfeeds"></a>Datafeeds<a href="https://github.com/elastic/stack-docs/edit/master/docs/en/stack/ml/anomaly-detection/datafeeds.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>Anomaly detection jobs can analyze data that is stored in Elasticsearch or data that is
sent from some other source via an API. <span class="emphasis"><em>Datafeeds</em></span> retrieve data from Elasticsearch
for analysis, which is the simpler and more common scenario.</p><p>If you create anomaly detection jobs in Kibana, you must use datafeeds. When you create a
job, you select an index pattern and Kibana configures the datafeed for you under
the covers. If you use APIs instead, you can create a datafeed by using the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/ml-put-datafeed.html" target="_top">create datafeeds API</a> after you create an
anomaly detection job. You can associate only one datafeed with each job.</p><p>For a description of all the datafeed properties, see
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/ml-datafeed-resource.html" target="_top">Datafeed resources</a>.</p><p>To start retrieving data from Elasticsearch, you must start the datafeed. When you start
it, you can optionally specify start and end times. If you do not specify an
end time, the datafeed runs continuously. You can start and stop datafeeds in
Kibana or use the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/ml-start-datafeed.html" target="_top">start datafeeds</a> and
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/ml-stop-datafeed.html" target="_top">stop datafeeds</a> APIs. A datafeed can be started and
stopped multiple times throughout its lifecycle.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>When the Elasticsearch security features are enabled, a datafeed stores the roles of the
user who created or updated the datafeed at that time. This means that if those
roles are updated, the datafeed subsequently runs with the new permissions that
are associated with the roles. However, if the user’s roles are adjusted after
creating or updating the datafeed, the datafeed continues to run with the
permissions that were associated with the original roles.</p><p>One way to update the roles that are stored within the datafeed without changing
any other settings is to submit an empty JSON document ({}) to the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/ml-update-datafeed.html" target="_top">update datafeed API</a>.</p></div></div><p>If the data that you want to analyze is not stored in Elasticsearch, you cannot use
datafeeds. You can however send batches of data directly to the job by using the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/ml-post-data.html" target="_top">post data to jobs API</a>.</p></div><div class="navfooter"><span class="prev"><a href="ml-jobs.html">
              « 
              Anomaly detection jobs</a>
           
        </span><span class="next">
           
          <a href="ml-buckets.html">Buckets
               »
            </a></span></div></body></html>
