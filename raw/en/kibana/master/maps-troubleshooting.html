<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Troubleshoot Elastic Maps | Kibana Guide [master] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [master]"/>
<link rel="up" href="maps.html" title="Elastic Maps"/>
<link rel="prev" href="indexing-geojson-data-tutorial.html" title="Tutorial: Index GeoJSON data"/>
<link rel="next" href="xpack-infra.html" title="Metrics"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/master"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [master]</a></span>
»
<span class="breadcrumb-link"><a href="maps.html">Elastic Maps</a></span>
»
<span class="breadcrumb-node">Troubleshoot Elastic Maps</span>
</div>
<div class="navheader">
<span class="prev">
<a href="indexing-geojson-data-tutorial.html">« Tutorial: Index GeoJSON data</a>
</span>
<span class="next">
<a href="xpack-infra.html">Metrics »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="maps-troubleshooting"></a>Troubleshoot Elastic Maps<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/maps/trouble-shooting.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Use the information in this section to inspect Elasticsearch requests and find solutions to common problems.</p>
<h3><a id="_inspect_elasticsearch_requests"></a>Inspect Elasticsearch requests<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/maps/trouble-shooting.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Elastic Maps</strong></span> uses the <a href="/guide/en/elasticsearch/reference/master/search-search.html" class="ulink" target="_top">Elasticsearch search API</a> to get documents and aggregation results from Elasticsearch. To troubleshoot these requests, open the Inspector, which shows the most recent requests for each layer. You can switch between different requests using the <span class="strong strong"><strong>Request</strong></span> dropdown.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="maps/images/inspector.png" alt="inspector">
</div>
</div>
<h3><a id="_solutions_to_common_problems"></a>Solutions to common problems<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/maps/trouble-shooting.asciidoc">edit</a></h3>
<h4><a id="_features_are_not_displayed"></a>Features are not displayed<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/maps/trouble-shooting.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use Inspector to view Elasticsearch responses. Ensure the response is not empty.
</li>
<li class="listitem">
<p>Ensure geometry uses the correct latitude and longitude ordering.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Geo-points expressed as strings are ordered as <code class="literal">"latitude,longitude"</code>. Geo-points expressed as arrays are ordered as the reverse: <code class="literal">[longitude, latitude]</code>.
</li>
<li class="listitem">
Geo-shapes expressed as geojson provide coordinates as <code class="literal">[longitude, latitude]</code>.
</li>
</ul>
</div>
</li>
<li class="listitem">
Ensure fill color and border color are distinguishable from map tiles. It&#8217;s hard to see white features on a white background.
</li>
</ul>
</div>
<h4><a id="_tiles_are_not_displayed"></a>Tiles are not displayed<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/maps/trouble-shooting.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ensure your tile server has configured <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" class="ulink" target="_top">Cross-Origin Resource Sharing (CORS)</a> so tile requests from your Kibana domain have permission to access your tile server domain.
</li>
<li class="listitem">
Ensure tiles have the required coordinate system. Vector data must use EPSG:4326 and tiles must use EPSG:3857.
</li>
</ul>
</div>
<h4><a id="_coordinate_and_region_map_visualizations_not_available_in_new_visualization_menu"></a>Coordinate and region map visualizations not available in New Visualization menu<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/maps/trouble-shooting.asciidoc">edit</a></h4>
<p>Kibana’s out-of-the-box settings no longer offers coordinate and region maps as a choice in the New Visualization menu because you can create these maps in <span class="strong strong"><strong>Elastic Maps</strong></span>.
If you want to create new coordinate and region map visualizations, set <code class="literal">xpack.maps.showMapVisualizationTypes</code> to <code class="literal">true</code>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="indexing-geojson-data-tutorial.html">« Tutorial: Index GeoJSON data</a>
</span>
<span class="next">
<a href="xpack-infra.html">Metrics »</a>
</span>
</div>
</div>
</body>
</html>
