<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Breaking changes in 6.2
        | Auditbeat Reference [6.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Auditbeat Reference [6.3]" /><link rel="up" href="index.html" title="Auditbeat Reference [6.3]" /><link rel="prev" href="setup-repositories.html" title="Repositories for APT and YUM" /><link rel="next" href="setting-up-and-running.html" title="Setting up and running Auditbeat" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Auditbeat/Reference/6.3" /><meta name="DC.subject" content="Auditbeat" /><meta name="DC.identifier" content="6.3" /></head><body><div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Auditbeat Reference
      [6.3]
    </a></span> » <span class="breadcrumb-node">Breaking changes in 6.2</span></div><div class="navheader"><span class="prev"><a href="setup-repositories.html">
              « 
              Repositories for APT and YUM</a>
           
        </span><span class="next">
           
          <a href="setting-up-and-running.html">Setting up and running Auditbeat
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="auditbeat-breaking-changes"></a>Breaking changes in 6.2<a href="https://github.com/elastic/beats/edit/6.3/auditbeat/docs/breaking.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>As a general rule, we strive to keep backwards compatibility between minor
versions (e.g.  6.x to 6.y) so you can upgrade without any configuration file
changes, but there are breaking changes between the earlier beta releases and
the 6.2 GA release.</p><p>There are changes that affect both the configuration and the event schema.</p><h3><a id="_configuration_changes"></a>Configuration Changes<a href="https://github.com/elastic/beats/edit/6.3/auditbeat/docs/breaking.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The audit module has been renamed and is now two separate modules: the
<a class="link" href="auditbeat-module-auditd.html" title="Auditd Module">auditd module</a> and the
<a class="link" href="auditbeat-module-file_integrity.html" title="File Integrity Module">file_integrity module</a>. You must update your
configuration to use these modules.</p><p>The <code class="literal">kernel</code> metricset has become the <a class="link" href="auditbeat-module-auditd.html" title="Auditd Module">auditd module</a>.</p><p><strong>Old Config. </strong>
</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">- module: audit
  metricsets: ["kernel"]
  kernel.resolve_ids: true
  kernel.failure_mode: silent
  kernel.backlog_limit: 8196
  kernel.rate_limit: 0
  kernel.include_raw_message: false
  kernel.include_warnings: false
  kernel.audit_rules: |
    # Rules</pre></div><p>
</p><p><strong>New Config. </strong>
</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">- module: auditd
  resolve_ids: true
  failure_mode: silent
  backlog_limit: 8196
  rate_limit: 0
  include_raw_message: false
  include_warnings: false
  audit_rules: |
    # Rules</pre></div><p>
</p><p>The <code class="literal">file</code> metricset has become the
<a class="link" href="auditbeat-module-file_integrity.html" title="File Integrity Module">file_integrity module</a>.</p><p><strong>Old Config. </strong>
</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">- module: audit
  metricsets: [file]
  file.paths:
  - /bin
  - /usr/bin
  - /sbin
  - /usr/sbin
  - /etc
  file.scan_at_start: true
  file.scan_rate_per_sec: 50 MiB
  file.max_file_size: 100 MiB
  file.hash_types: [sha1]</pre></div><p>
</p><p><strong>New Config. </strong>
</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">- module: file_integrity
  paths:
  - /bin
  - /usr/bin
  - /sbin
  - /usr/sbin
  - /etc
  scan_at_start: true
  scan_rate_per_sec: 50 MiB
  max_file_size: 100 MiB
  hash_types: [sha1]
  recursive: false <a id="CO5-1"></a><i class="conum" data-value="1"></i></pre></div><p>
</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO5-1"><i class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>
<code class="literal">recursive</code> is a new option in 6.2 and is disabled by default. Set the value
to true to watch for changes in all sub-directories.
</p></td></tr></table></div><h3><a id="_event_schema_changes"></a>Event Schema Changes<a href="https://github.com/elastic/beats/edit/6.3/auditbeat/docs/breaking.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Most field names were changed in 6.2. We wanted to rename the modules and use
common field names for similar data types across all the modules. The table
below provides a summary of the field changes.</p><p>In Kibana you need to <a class="link" href="load-kibana-dashboards.html" title="Step 4: Set up the Kibana dashboards">import</a> the latest dashboards
that work with the new event format. The new dashboards will not work with data
produced by older versions of Auditbeat.</p><div class="table"><a id="id-1.4.16"></a><p class="title"><strong>Table 1. Renamed Fields</strong></p><div class="table-contents"><table summary="Renamed Fields" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Old Field</th><th align="left" valign="top">New Field</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">metricset.module</code></p></td><td align="left" valign="top"><p><code class="literal">event.module</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">metricset.name</code></p></td><td align="left" valign="top"><p><span class="emphasis"><em>Removed</em></span></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.kernel.action</code></p></td><td align="left" valign="top"><p><code class="literal">event.action</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.kernel.category</code></p></td><td align="left" valign="top"><p><code class="literal">event.category</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.kernel.record_type</code></p></td><td align="left" valign="top"><p><code class="literal">event.type</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.kernel.key</code></p></td><td align="left" valign="top"><p><code class="literal">tags</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.kernel.actor.attrs</code></p></td><td align="left" valign="top"><p><code class="literal">user</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.kernel.actor</code></p></td><td align="left" valign="top"><p><code class="literal">auditd.summary.actor</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.kernel.thing</code></p></td><td align="left" valign="top"><p><code class="literal">auditd.summary.object</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.kernel.how</code></p></td><td align="left" valign="top"><p><code class="literal">auditd.summary.how</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.kernel.socket</code></p></td><td align="left" valign="top"><p><code class="literal">auditd.data.socket</code>, <code class="literal">source</code>, <code class="literal">destination</code>
<a href="#ftn.id-1.4.16.2.4.11.2.1.4" class="footnote" id="id-1.4.16.2.4.11.2.1.4"><sup class="footnote">[a]</sup></a></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.kernel.data.*</code></p></td><td align="left" valign="top"><p><code class="literal">process.*</code> <a href="#ftn.id-1.4.16.2.4.12.2.1.2" class="footnote" id="id-1.4.16.2.4.12.2.1.2"><sup class="footnote">[b]</sup></a></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.kernel.data.*</code></p></td><td align="left" valign="top"><p><code class="literal">file.*</code> <a href="#ftn.id-1.4.16.2.4.13.2.1.2" class="footnote" id="id-1.4.16.2.4.13.2.1.2"><sup class="footnote">[c]</sup></a></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.kernel.data</code></p></td><td align="left" valign="top"><p><code class="literal">auditd.data</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.file.action</code></p></td><td align="left" valign="top"><p><code class="literal">event.action</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.file.hash</code></p></td><td align="left" valign="top"><p><code class="literal">hash</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">audit.file</code></p></td><td align="left" valign="top"><p><code class="literal">file</code></p></td></tr></tbody><tbody class="footnotes"><tr><td colspan="2"><div id="ftn.id-1.4.16.2.4.11.2.1.4" class="footnote"><p><a href="#id-1.4.16.2.4.11.2.1.4" class="simpara"><sup class="simpara">[a] </sup></a>Based on the syscall type either the <code class="literal">source</code> or <code class="literal">destination</code> may
also be populated.</p></div><div id="ftn.id-1.4.16.2.4.12.2.1.2" class="footnote"><p><a href="#id-1.4.16.2.4.12.2.1.2" class="simpara"><sup class="simpara">[b] </sup></a>Fields related to a process
will be moved under the <code class="literal">process</code> namespace.</p></div><div id="ftn.id-1.4.16.2.4.13.2.1.2" class="footnote"><p><a href="#id-1.4.16.2.4.13.2.1.2" class="simpara"><sup class="simpara">[c] </sup></a>Fields related to a file will be
moved under the <code class="literal">file</code> namespace.</p></div></td></tr></tbody></table></div></div></div><div class="navfooter"><span class="prev"><a href="setup-repositories.html">
              « 
              Repositories for APT and YUM</a>
           
        </span><span class="next">
           
          <a href="setting-up-and-running.html">Setting up and running Auditbeat
               »
            </a></span></div></body></html>
