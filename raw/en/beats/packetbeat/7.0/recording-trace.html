<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Record a trace
        | Packetbeat Reference [7.0]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Packetbeat Reference [7.0]" /><link rel="up" href="troubleshooting.html" title="Troubleshooting" /><link rel="prev" href="enable-packetbeat-debugging.html" title="Debug" /><link rel="next" href="faq.html" title="Frequently asked questions" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Packetbeat/Reference/7.0" /><meta name="DC.subject" content="Packetbeat" /><meta name="DC.identifier" content="7.0" /></head><body><div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Packetbeat Reference
      [7.0]
    </a></span> » <span class="breadcrumb-link"><a href="troubleshooting.html">Troubleshooting</a></span> » <span class="breadcrumb-node">Record a trace</span></div><div class="navheader"><span class="prev"><a href="enable-packetbeat-debugging.html">
              « 
              Debug</a>
           
        </span><span class="next">
           
          <a href="faq.html">Frequently asked questions
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="recording-trace"></a>Record a trace<a href="https://github.com/elastic/beats/edit/7.0/packetbeat/docs/troubleshooting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>If you are having an issue, it’s often useful to record a full network trace
and send it to us. It will help us reproduce the issue, and we can also add it
to our automatic regression tests so that the problem never reoccurs. A trace
of 10-20 seconds is usually enough. To record the trace, you can use the following Packetbeat command:</p><div class="pre_wrapper lang-shell"><pre class="programlisting prettyprint lang-shell">packetbeat -e -dump trace.pcap</pre></div><p>This command executes Packetbeat in normal mode (all processing happens as usual), but
at the same time, it records all packets in libpcap format in the <code class="literal">trace.pcap</code>
file. If there’s a particular error message you want us to investigate, please
keep the trace running until the error shows up (it will printed on standard
error).</p><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>PCAP files can be large. Please monitor the disk usage while doing the
dump to make sure you don’t run out of disk space. Whenever possible, we
recommend recording the trace on a non-production machine.</p></div></div></div><div class="navfooter"><span class="prev"><a href="enable-packetbeat-debugging.html">
              « 
              Debug</a>
           
        </span><span class="next">
           
          <a href="faq.html">Frequently asked questions
               »
            </a></span></div></body></html>
