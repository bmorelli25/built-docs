<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Specify general settings
        | Metricbeat Reference [7.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Metricbeat Reference [7.x]" /><link rel="up" href="configuring-howto-metricbeat.html" title="Configuring Metricbeat" /><link rel="prev" href="configuration-metricbeat.html" title="Specify which modules to run" /><link rel="next" href="metricbeat-configuration-reloading.html" title="Load external configuration files" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Metricbeat/Reference/7.x" /><meta name="DC.subject" content="Metricbeat" /><meta name="DC.identifier" content="7.x" /></head><body><div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Metricbeat Reference
      [7.x]
    </a></span> » <span class="breadcrumb-link"><a href="configuring-howto-metricbeat.html">Configuring Metricbeat</a></span> » <span class="breadcrumb-node">Specify general settings</span></div><div class="navheader"><span class="prev"><a href="configuration-metricbeat.html">
              « 
              Specify which modules to run</a>
           
        </span><span class="next">
           
          <a href="metricbeat-configuration-reloading.html">Load external configuration files
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="configuration-general-options"></a>Specify general settings<a href="https://github.com/elastic/beats/edit/7.x/metricbeat/docs/metricbeat-general-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>You can specify settings in the <code class="literal">metricbeat.yml</code> config file to control the
general behavior of Metricbeat. This includes:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="link" href="configuration-general-options.html#configuration-global-options" title="Global Metricbeat configuration options">Global options</a> that control things like
the maximum random delay to apply to the startup of a metricset.
</li><li class="listitem">
<a class="link" href="configuration-general-options.html#configuration-general" title="General configuration options">General options</a> that are supported by all Elastic
Beats.
</li></ul></div><h3><a id="configuration-global-options"></a>Global Metricbeat configuration options<a href="https://github.com/elastic/beats/edit/7.x/metricbeat/docs/metricbeat-general-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><h4><a id="_literal_metricbeat_max_start_delay_literal"></a><code class="literal">metricbeat.max_start_delay</code><a href="https://github.com/elastic/beats/edit/7.x/metricbeat/docs/metricbeat-general-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The maximum random delay to apply to the startup of a metricset. Random delays
ranging from [0, <span class="emphasis"><em>max_start_delay</em></span>) are applied to reduce the thundering herd
effect that can occur if a fleet of machines running Metricbeat are restarted at
the same time. Specifying a value of 0 disables the startup delay. The default
is 10s.</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">metricbeat.max_start_delay: 10s</pre></div><h4><a id="_literal_timeseries_enabled_literal"></a><code class="literal">timeseries.enabled</code><a href="https://github.com/elastic/beats/edit/7.x/metricbeat/docs/metricbeat-general-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Setting this to true (false by default) will add a <code class="literal">timeseries.instance</code> field
to all events generated by Metricbeat. For a given metricset, this field will
be unique for every single item being monitored.</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">timeseries.enabled: true</pre></div><h3><a id="configuration-general"></a>General configuration options<a href="https://github.com/elastic/beats/edit/7.x/libbeat/docs/generalconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>These options are supported by all Elastic Beats. Because they are common
options, they are not namespaced.</p><p>Here is an example configuration:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">name: "my-shipper"
tags: ["service-X", "web-tier"]</pre></div><h4><a id="_literal_name_literal"></a><code class="literal">name</code><a href="https://github.com/elastic/beats/edit/7.x/libbeat/docs/generalconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The name of the Beat. If this option is empty, the <code class="literal">hostname</code> of the server is
used. The name is included as the <code class="literal">agent.name</code> field in each published transaction. You can
use the name to group all transactions sent by a single Beat.</p><p>Example:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">name: "my-shipper"</pre></div><h4><a id="_literal_tags_literal_2"></a><code class="literal">tags</code><a href="https://github.com/elastic/beats/edit/7.x/libbeat/docs/generalconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>A list of tags that the Beat includes in the <code class="literal">tags</code> field of each published
transaction. Tags make it easy to group servers by different logical properties.
For example, if you have a cluster of web servers, you can add the "webservers"
tag to the Beat on each server, and then use filters and queries in the Kibana
web interface to get visualisations for the whole group of servers.</p><p>Example:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">tags: ["my-service", "hardware", "test"]</pre></div><h4><a id="libbeat-configuration-fields"></a><code class="literal">fields</code><a href="https://github.com/elastic/beats/edit/7.x/libbeat/docs/generalconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Optional fields that you can specify to add additional information to the
output. Fields can be scalar values, arrays, dictionaries, or any nested
combination of these. By default, the fields that you specify here will be
grouped under a <code class="literal">fields</code> sub-dictionary in the output document. To store the
custom fields as top-level fields, set the <code class="literal">fields_under_root</code> option to true.</p><p>Example:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">fields: {project: "myproject", instance-id: "574734885120952459"}</pre></div><h4><a id="_literal_fields_under_root_literal"></a><code class="literal">fields_under_root</code><a href="https://github.com/elastic/beats/edit/7.x/libbeat/docs/generalconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>If this option is set to true, the custom <a class="link" href="configuration-general-options.html#libbeat-configuration-fields" title="fields">fields</a> are
stored as top-level fields in the output document instead of being grouped under
a <code class="literal">fields</code> sub-dictionary. If the custom field names conflict with other field
names, then the custom fields overwrite the other fields.</p><p>Example:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">fields_under_root: true
fields:
  instance_id: i-10a64379
  region: us-east-1</pre></div><h4><a id="_literal_processors_literal_2"></a><code class="literal">processors</code><a href="https://github.com/elastic/beats/edit/7.x/libbeat/docs/generalconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>A list of processors to apply to the data generated by the beat.</p><p>See <a class="xref" href="filtering-and-enhancing-data.html" title="Filter and enhance the exported data"><em>Filter and enhance the exported data</em></a> for information about specifying
processors in your config.</p><h4><a id="_literal_max_procs_literal"></a><code class="literal">max_procs</code><a href="https://github.com/elastic/beats/edit/7.x/libbeat/docs/generalconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Sets the maximum number of CPUs that can be executing simultaneously. The
default is the number of logical CPUs available in the system.</p></div><div class="navfooter"><span class="prev"><a href="configuration-metricbeat.html">
              « 
              Specify which modules to run</a>
           
        </span><span class="next">
           
          <a href="metricbeat-configuration-reloading.html">Load external configuration files
               »
            </a></span></div></body></html>
