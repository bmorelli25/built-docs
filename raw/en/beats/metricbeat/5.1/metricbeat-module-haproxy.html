<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>HAProxy Module
        | Metricbeat Reference [5.1]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Metricbeat Reference [5.1]" /><link rel="up" href="metricbeat-modules.html" title="Modules" /><link rel="prev" href="metricbeat-metricset-docker-network.html" title="Docker Network Metricset" /><link rel="next" href="metricbeat-metricset-haproxy-info.html" title="HAProxy Info Metricset" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Metricbeat/Reference/5.1" /><meta name="DC.subject" content="Metricbeat" /><meta name="DC.identifier" content="5.1" /></head><body><div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Metricbeat Reference
      [5.1]
    </a></span> » <span class="breadcrumb-link"><a href="metricbeat-modules.html">Modules</a></span> » <span class="breadcrumb-node">HAProxy Module</span></div><div class="navheader"><span class="prev"><a href="metricbeat-metricset-docker-network.html">
              « 
              Docker Network Metricset</a>
           
        </span><span class="next">
           
          <a href="metricbeat-metricset-haproxy-info.html">HAProxy Info Metricset
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="metricbeat-module-haproxy"></a>HAProxy Module<a href="https://github.com/elastic/beats/edit/5.1/metricbeat/docs/modules/haproxy.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>This module collects stats from <a class="ulink" href="http://www.haproxy.org/" target="_top">HAProxy</a>. To configure
HAProxy to collect stats, you must enable the stats socket via TCP. For example,
to enable stats reporting via any local IP on port 14567, place this statement
under the <code class="literal">global</code> or <code class="literal">default</code> section of the haproxy config:</p><p><code class="literal">stats socket 127.0.0.1:14567</code></p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>You should use an internal private IP, or secure this with a firewall
rule, so that only designated hosts can access this data.</p></div></div><h3><a id="_compatibility_6"></a>Compatibility<a href="https://github.com/elastic/beats/edit/5.1/metricbeat/docs/modules/haproxy.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The HAProxy metricsets were tested with HAProxy 1.6 and are expected to work with all 1.6 versions.</p><h3><a id="_example_configuration_3"></a>Example Configuration<a href="https://github.com/elastic/beats/edit/5.1/metricbeat/docs/modules/haproxy.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The HAProxy module supports the standard configuration options that are described
in <a class="xref" href="configuration-metricbeat.html" title="Modules Configuration">Modules Configuration</a>. Here is an example configuration:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">metricbeat.modules:
- module: haproxy
  metricsets: ["info", "stat"]
  enabled: true
  period: 10s
  hosts: ["tcp://127.0.0.1:14567"]</pre></div><h3><a id="_metricsets_4"></a>Metricsets<a href="https://github.com/elastic/beats/edit/5.1/metricbeat/docs/modules/haproxy.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The following metricsets are available:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="link" href="metricbeat-metricset-haproxy-info.html" title="HAProxy Info Metricset">info</a>
</li><li class="listitem">
<a class="link" href="metricbeat-metricset-haproxy-stat.html" title="HAProxy Stat Metricset">stat</a>
</li></ul></div></div><div class="navfooter"><span class="prev"><a href="metricbeat-metricset-docker-network.html">
              « 
              Docker Network Metricset</a>
           
        </span><span class="next">
           
          <a href="metricbeat-metricset-haproxy-info.html">HAProxy Info Metricset
               »
            </a></span></div></body></html>
