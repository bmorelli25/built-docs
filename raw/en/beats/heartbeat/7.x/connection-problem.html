<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Logstash connection doesn’t work
        | Heartbeat Reference [7.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Heartbeat Reference [7.x]" /><link rel="up" href="faq.html" title="Common problems" /><link rel="prev" href="error-found-unexpected-character.html" title="Found unexpected or unknown characters" /><link rel="next" href="metadata-missing.html" title="@metadata is missing in Logstash" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Heartbeat/Reference/7.x" /><meta name="DC.subject" content="Heartbeat" /><meta name="DC.identifier" content="7.x" /></head><body><div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Heartbeat Reference
      [7.x]
    </a></span> » <span class="breadcrumb-link"><a href="troubleshooting.html">Troubleshooting</a></span> » <span class="breadcrumb-link"><a href="faq.html">Common problems</a></span> » <span class="breadcrumb-node">Logstash connection doesn’t work</span></div><div class="navheader"><span class="prev"><a href="error-found-unexpected-character.html">
              « 
              Found unexpected or unknown characters</a>
           
        </span><span class="next">
           
          <a href="metadata-missing.html">@metadata is missing in Logstash
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="connection-problem"></a>Logstash connection doesn’t work<a href="https://github.com/elastic/beats/edit/7.x/libbeat/docs/shared-faq.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>You may have configured Logstash or Heartbeat incorrectly. To resolve the issue:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
Make sure that Logstash is running and you can connect to it. First, try to ping the Logstash host to verify that you can reach it
from the host running Heartbeat. Then use either <code class="literal">nc</code> or <code class="literal">telnet</code> to make sure that the port is available. For example:
</p><div class="pre_wrapper lang-shell"><pre class="programlisting prettyprint lang-shell">ping &lt;hostname or IP&gt;
telnet &lt;hostname or IP&gt; 5044</pre></div></li><li class="listitem">
Verify that the config file for Heartbeat specifies the correct port where Logstash is running.
</li><li class="listitem">
Make sure that the Elasticsearch output is commented out in the config file and the Logstash output is uncommented.
</li><li class="listitem">
Confirm that the most recent <a class="ulink" href="http://www.elastic.co/guide/en/logstash/7.x/plugins-inputs-beats.html" target="_top">Beats
input plugin for Logstash</a> is installed and configured. Note that Beats will not
connect to the Lumberjack input plugin. To learn how to install and update
plugins, see <a class="ulink" href="http://www.elastic.co/guide/en/logstash/7.x/working-with-plugins.html" target="_top">Working with plugins</a>.
</li></ul></div></div><div class="navfooter"><span class="prev"><a href="error-found-unexpected-character.html">
              « 
              Found unexpected or unknown characters</a>
           
        </span><span class="next">
           
          <a href="metadata-missing.html">@metadata is missing in Logstash
               »
            </a></span></div></body></html>
