<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Changelog | Elasticsearch Node.js client [7.x] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Node.js client [7.x]"/>
<link rel="up" href="index.html" title="Elasticsearch Node.js client [7.x]"/>
<link rel="prev" href="introduction.html" title="Introduction"/>
<link rel="next" href="client-usage.html" title="Usage"/>
<meta name="DC.type" content="Learn/Docs/Clients/JavaScript/7.x"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="7.x"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Node.js client [7.x]</a></span>
»
<span class="breadcrumb-node">Changelog</span>
</div>
<div class="navheader">
<span class="prev">
<a href="introduction.html">« Introduction</a>
</span>
<span class="next">
<a href="client-usage.html">Usage »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="changelog-client"></a>Changelog<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h1>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_8_0"></a>7.8.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_features_2"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_support_for_elasticsearch_v7_8"></a>Support for Elasticsearch <code class="literal">v7.8</code>.<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>You can find all the API changes <a href="/guide/en/elasticsearch/reference/7.8/release-notes-7.8.0.html" class="ulink" target="_top">here</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_added_multi_search_helper_1186"></a>Added multi search helper <a href="https://github.com/elastic/elasticsearch-js/pull/1186" class="ulink" target="_top">#1186</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>If you are sending search request at a high rate, this helper might be useful for you.
It will use the mutli search API under the hood to batch the requests and improve the overall performances of your application.<br>
The <code class="literal">result</code> exposes a <code class="literal">documents</code> property as well, which allows you to access directly the hits sources.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')

const client = new Client({ node: 'http://localhost:9200' })
const m = client.helpers.msearch()

// promise style API
m.search(
    { index: 'stackoverflow' },
    { query: { match: { title: 'javascript' } } }
  )
  .then(result =&gt; console.log(result.body)) // or result.documents
  .catch(err =&gt; console.error(err))

// callback style API
m.search(
  { index: 'stackoverflow' },
  { query: { match: { title: 'ruby' } } },
  (err, result) =&gt; {
    if (err) console.error(err)
    console.log(result.body)) // or result.documents
  }
)</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_added_timeout_support_in_bulk_and_msearch_helpers_1206"></a>Added timeout support in bulk and msearch helpers <a href="https://github.com/elastic/elasticsearch-js/pull/1206" class="ulink" target="_top">#1206</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>If there is a slow producer, the bulk helper might send data with a very large period of time, and if the process crashes for any reason, the data would be lost.
This pr introduces a <code class="literal">flushInterval</code> option in the bulk helper to avoid this issue. By default, the bulk helper will flush the data automatically every 30 seconds, unless the threshold has been reached before.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const b = client.helpers.bulk({
  flushInterval: 30000
})</pre>
</div>
<p>The same problem might happen with the multi search helper, where the user is not sending search requests fast enough. A <code class="literal">flushInterval</code> options has been added as well, with a default value of 500 milliseconds.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const m = client.helpers.msearch({
  flushInterval: 500
})</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_internals"></a>Internals<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_use_filter_path_for_improving_the_search_helpers_performances_1199"></a>Use filter_path for improving the search helpers performances <a href="https://github.com/elastic/elasticsearch-js/pull/1199" class="ulink" target="_top">#1199</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>From now on, all he search helpers will use the <code class="literal">filter_path</code> option automatically when needed to retrieve only the hits source. This change will result in less netwprk traffic and improved deserialization performances.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_search_helpers_documents_getter_1186"></a>Search helpers documents getter <a href="https://github.com/elastic/elasticsearch-js/pull/1186" class="ulink" target="_top">#1186</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>Before this, the <code class="literal">documents</code> key that you can access in any search helper was computed as soon as we got the search result from Elasticsearch. With this change the <code class="literal">documents</code> key is now a getter, which makes this procees lazy, resulting in better performances and lower memory impact.</p>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_7_1"></a>7.7.1<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_fixes"></a>Fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_disable_client_helpers_in_node_js_10_1194"></a>Disable client Helpers in Node.js &lt; 10 - <a href="https://github.com/elastic/elasticsearch-js/pull/1194" class="ulink" target="_top">#1194</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>The client helpers can&#8217;t be used in Node.js &lt; 10 because it needs a custom flag to be able to use them.
Given that not every provider allows the user to specify cuatom Node.js flags, the Helpers has been disabled completely in Node.js &lt; 10.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_force_lowercase_in_all_headers_1187"></a>Force lowercase in all headers - <a href="https://github.com/elastic/elasticsearch-js/pull/1187" class="ulink" target="_top">#1187</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>Now all the user-provided headers names will be lowercased by default, so there will be no conflicts in case of the same header with different casing.</p>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_7_0"></a>7.7.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_features_3"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_support_for_elasticsearch_v7_7"></a>Support for Elasticsearch <code class="literal">v7.7</code>.<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>You can find all the API changes <a href="/guide/en/elasticsearch/reference/7.7/release-notes-7.7.0.html" class="ulink" target="_top">here</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_introduced_client_helpers_1107"></a>Introduced client helpers - <a href="https://github.com/elastic/elasticsearch-js/pull/1107" class="ulink" target="_top">#1107</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>From now on, the client comes with an handy collection of helpers to give you a more comfortable experience with some APIs.</p>
<div class="caution admon">
<div class="icon"></div>
<div class="admon_content">
<p>The client helpers are experimental, and the API may change in the next minor releases.</p>
</div>
</div>
<p>The following helpers has been introduced:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">client.helpers.bulk</code>
</li>
<li class="listitem">
<code class="literal">client.helpers.search</code>
</li>
<li class="listitem">
<code class="literal">client.helpers.scrollSearch</code>
</li>
<li class="listitem">
<code class="literal">client.helpers.scrollDocuments</code>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_the_connectionpool_getconnection_now_always_returns_a_connection_1127"></a>The <code class="literal">ConnectionPool.getConnection</code> now always returns a <code class="literal">Connection</code> - <a href="https://github.com/elastic/elasticsearch-js/pull/1127" class="ulink" target="_top">#1127</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>What does this mean? It means that you will see less <code class="literal">NoLivingConnectionError</code>, which now can only be caused if you set a selector/filter too strict.
For improving the debugging experience, the <code class="literal">NoLivingConnectionsError</code> error message has been updated.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_abortable_promises_1141"></a>Abortable promises - <a href="https://github.com/elastic/elasticsearch-js/pull/1141" class="ulink" target="_top">#1141</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>From now on, it will be possible to abort a request generated with the promise-styl API. If you abort a request generated from a promise, the promise will be rejected with a <code class="literal">RequestAbortedError</code>.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const promise = client.search({
  body: {
    query: { match_all: {} }
  }
})

promise
  .then(console.log)
  .catch(console.log)

promise.abort()</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_major_refactor_of_the_type_definitions_1119_1130_1132"></a>Major refactor of the Type Definitions - <a href="https://github.com/elastic/elasticsearch-js/pull/1119" class="ulink" target="_top">#1119</a> <a href="https://github.com/elastic/elasticsearch-js/issues/1130" class="ulink" target="_top">#1130</a> <a href="https://github.com/elastic/elasticsearch-js/pull/1132" class="ulink" target="_top">#1132</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>Now every API makes better use of the generics and overloading, so you can (or not, by default request/response bodies are <code class="literal">Record&lt;string, any&gt;</code>) define the request/response bodies in the generics.</p>
<div class="pre_wrapper lang-ts">
<pre class="programlisting prettyprint lang-ts">// request and response bodies are generics
client.search(...)
// response body is `SearchResponse` and request body is generic
client.search&lt;SearchResponse&gt;(...)
// request body is `SearchBody` and response body is `SearchResponse`
client.search&lt;SearchResponse, SearchBody&gt;(...)</pre>
</div>
<p>This <span class="strong strong"><strong>should</strong></span> not be a breaking change, as every generics defaults to <code class="literal">any</code>. It might happen to some users that the code breaks, but our test didn&#8217;t detect any of it, probably because they were not robust enough. However, given the gigantic improvement in the developer experience, we have decided to release this change in the 7.x line.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_fixes_2"></a>Fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_the_connectionpool_update_method_now_cleans_the_dead_list_1122_1127"></a>The <code class="literal">ConnectionPool.update</code> method now cleans the <code class="literal">dead</code> list - <a href="https://github.com/elastic/elasticsearch-js/issues/1122" class="ulink" target="_top">#1122</a> <a href="https://github.com/elastic/elasticsearch-js/pull/1127" class="ulink" target="_top">#1127</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>It can happen in a situation where we are updating the connections list and running sniff, leaving the <code class="literal">dead</code> list in a dirty state. Now the <code class="literal">ConnectionPool.update</code> cleans up the <code class="literal">dead</code> list every time, which makes way more sense given that all the new connections are alive.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_connectionpoolmarkdead_should_ignore_connections_that_no_longer_exists_1159"></a><code class="literal">ConnectionPoolmarkDead</code> should ignore connections that no longer exists - <a href="https://github.com/elastic/elasticsearch-js/pull/1159" class="ulink" target="_top">#1159</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>It might happen that markDead is called just after a pool update, and in such case, the clint was adding the dead list a node that no longer exists, causing unhandled exceptions later.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_do_not_retry_a_request_if_the_body_is_a_stream_1143"></a>Do not retry a request if the body is a stream - <a href="https://github.com/elastic/elasticsearch-js/pull/1143" class="ulink" target="_top">#1143</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>The client should not retry if it&#8217;s sending a stream body, because it should store in memory a copy of the stream to be able to send it again, but since it doesn&#8217;t know in advance the size of the stream, it risks to take too much memory.
Furthermore, copying everytime the stream is very an expensive operation.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_return_an_error_if_the_request_has_been_aborted_1141"></a>Return an error if the request has been aborted - <a href="https://github.com/elastic/elasticsearch-js/pull/1141" class="ulink" target="_top">#1141</a><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h4>
</div></div></div>
<p>Until now, aborting a request was blocking the HTTP request, but never calling the callback or resolving the promise to notify the user. This is a bug because it could lead to dangerous memory leaks. From now on if the user calls the <code class="literal">request.abort()</code> method, the callback style API will be called with a <code class="literal">RequestAbortedError</code>, the promise will be rejected with <code class="literal">RequestAbortedError</code> as well.</p>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_6_1"></a>7.6.1<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Secure json parsing - <a href="https://github.com/elastic/elasticsearch-js/pull/1110" class="ulink" target="_top">#1110</a>
</li>
<li class="listitem">
ApiKey should take precedence over basic auth - <a href="https://github.com/elastic/elasticsearch-js/pull/1115" class="ulink" target="_top">#1115</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Documentation:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix typo in api reference - <a href="https://github.com/elastic/elasticsearch-js/pull/1109" class="ulink" target="_top">#1109</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_6_0"></a>7.6.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<p>Support for Elasticsearch <code class="literal">v7.6</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_5_1"></a>7.5.1<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Skip compression in case of empty string body - <a href="https://github.com/elastic/elasticsearch-js/pull/1080" class="ulink" target="_top">#1080</a>
</li>
<li class="listitem">
Fix typo in NoLivingConnectionsError - <a href="https://github.com/elastic/elasticsearch-js/pull/1045" class="ulink" target="_top">#1045</a>
</li>
<li class="listitem">
Change TransportRequestOptions.ignore to number[] - <a href="https://github.com/elastic/elasticsearch-js/pull/1053" class="ulink" target="_top">#1053</a>
</li>
<li class="listitem">
ClientOptions["cloud"] should have optional auth fields - <a href="https://github.com/elastic/elasticsearch-js/pull/1032" class="ulink" target="_top">#1032</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Documentation:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Docs: Return super in example Transport subclass - <a href="https://github.com/elastic/elasticsearch-js/pull/980" class="ulink" target="_top">#980</a>
</li>
<li class="listitem">
Add examples to reference - <a href="https://github.com/elastic/elasticsearch-js/pull/1076" class="ulink" target="_top">#1076</a>
</li>
<li class="listitem">
Added new examples - <a href="https://github.com/elastic/elasticsearch-js/pull/1031" class="ulink" target="_top">#1031</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_5_0"></a>7.5.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<p>Support for Elasticsearch <code class="literal">v7.5</code>.</p>
<p><span class="strong strong"><strong>Features</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
X-Opaque-Id support <a href="https://github.com/elastic/elasticsearch-js/pull/997" class="ulink" target="_top">#997</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_4_0"></a>7.4.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<p>Support for Elasticsearch <code class="literal">v7.4</code>.</p>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix issue; node roles are defaulting to true when undefined is breaking usage of nodeFilter option - <a href="https://github.com/elastic/elasticsearch-js/pull/967" class="ulink" target="_top">#967</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Documentation:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Updated API reference doc - <a href="https://github.com/elastic/elasticsearch-js/pull/945" class="ulink" target="_top">#945</a> <a href="https://github.com/elastic/elasticsearch-js/pull/969" class="ulink" target="_top">#969</a>
</li>
<li class="listitem">
Fix inaccurate description sniffEndpoint - <a href="https://github.com/elastic/elasticsearch-js/pull/959" class="ulink" target="_top">#959</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Internals:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update code generation <a href="https://github.com/elastic/elasticsearch-js/pull/969" class="ulink" target="_top">#969</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_3_0"></a>7.3.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<p>Support for Elasticsearch <code class="literal">v7.3</code>.</p>
<p><span class="strong strong"><strong>Features:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added <code class="literal">auth</code> option - <a href="https://github.com/elastic/elasticsearch-js/pull/908" class="ulink" target="_top">#908</a>
</li>
<li class="listitem">
Added support for <code class="literal">ApiKey</code> authentication - <a href="https://github.com/elastic/elasticsearch-js/pull/908" class="ulink" target="_top">#908</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
fix(Typings): sniffInterval can also be boolean - <a href="https://github.com/elastic/elasticsearch-js/pull/914" class="ulink" target="_top">#914</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Internals:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Refactored connection pool - <a href="https://github.com/elastic/elasticsearch-js/pull/913" class="ulink" target="_top">#913</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Documentation:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Better reference code examples - <a href="https://github.com/elastic/elasticsearch-js/pull/920" class="ulink" target="_top">#920</a>
</li>
<li class="listitem">
Improve README - <a href="https://github.com/elastic/elasticsearch-js/pull/909" class="ulink" target="_top">#909</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_2_0"></a>7.2.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<p>Support for Elasticsearch <code class="literal">v7.2</code></p>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove auth data from inspect and toJSON in connection class - <a href="https://github.com/elastic/elasticsearch-js/pull/887" class="ulink" target="_top">#887</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_1_0"></a>7.1.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<p>Support for Elasticsearch <code class="literal">v7.1</code></p>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support for non-friendly chars in url username and password - <a href="https://github.com/elastic/elasticsearch-js/pull/858" class="ulink" target="_top">#858</a>
</li>
<li class="listitem">
Patch deprecated parameters - <a href="https://github.com/elastic/elasticsearch-js/pull/851" class="ulink" target="_top">#851</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_0_1"></a>7.0.1<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix TypeScript export <span class="strong strong"><strong>(issue <a href="https://github.com/elastic/elasticsearch-js/pull/841" class="ulink" target="_top">#841</a>)</strong></span> - <a href="https://github.com/elastic/elasticsearch-js/pull/842" class="ulink" target="_top">#842</a>
</li>
<li class="listitem">
Fix http and https port handling <span class="strong strong"><strong>(issue <a href="https://github.com/elastic/elasticsearch-js/pull/843" class="ulink" target="_top">#843</a>)</strong></span> - <a href="https://github.com/elastic/elasticsearch-js/pull/845" class="ulink" target="_top">#845</a>
</li>
<li class="listitem">
Fix TypeScript definiton <span class="strong strong"><strong>(issue <a href="https://github.com/elastic/elasticsearch-js/pull/803" class="ulink" target="_top">#803</a>)</strong></span> - <a href="https://github.com/elastic/elasticsearch-js/pull/846" class="ulink" target="_top">#846</a>
</li>
<li class="listitem">
Added toJSON method to Connection class <span class="strong strong"><strong>(issue <a href="https://github.com/elastic/elasticsearch-js/pull/848" class="ulink" target="_top">#848</a>)</strong></span> - <a href="https://github.com/elastic/elasticsearch-js/pull/849" class="ulink" target="_top">#849</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_7_0_0"></a>7.0.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-js/edit/7.x/docs/changelog.asciidoc">edit</a></h2>
</div></div></div>
<p>Support for Elasticsearch <code class="literal">v7.0</code></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Stable release.
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="introduction.html">« Introduction</a>
</span>
<span class="next">
<a href="client-usage.html">Usage »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
