<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configure logging
        | Auditbeat Reference [6.6]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Auditbeat Reference [6.6]" /><link rel="up" href="configuring-howto-auditbeat.html" title="Configuring Auditbeat" /><link rel="prev" href="configuration-template.html" title="Load the Elasticsearch index template" /><link rel="next" href="using-environ-vars.html" title="Use environment variables in the configuration" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Auditbeat/Reference/6.6" /><meta name="DC.subject" content="Auditbeat" /><meta name="DC.identifier" content="6.6" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Auditbeat Reference
      [6.6]
    </a></span> » <span class="breadcrumb-link"><a href="configuring-howto-auditbeat.html">Configuring Auditbeat</a></span> » <span class="breadcrumb-node">Configure logging</span></div><div class="navheader"><span class="prev"><a href="configuration-template.html">
              « 
              Load the Elasticsearch index template</a>
           
        </span><span class="next">
           
          <a href="using-environ-vars.html">Use environment variables in the configuration
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="configuration-logging"></a>Configure logging<a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The <code class="literal">logging</code> section of the <code class="literal">auditbeat.yml</code> config file contains options
for configuring the logging output.
The logging system can write logs to the syslog or rotate log files. If logging
is not explicitly configured the file output is used.</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">logging.level: info
logging.to_files: true
logging.files:
  path: /var/log/auditbeat
  name: auditbeat
  keepfiles: 7
  permissions: 0644</pre></div><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>In addition to setting logging options in the config file, you can modify
the logging output configuration from the command line. See
<a class="xref" href="command-line-options.html" title="Auditbeat command reference">Command reference</a>.</p></div></div><h3><a id="_configuration_options_12"></a>Configuration options<a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>You can specify the following options in the <code class="literal">logging</code> section of the
<code class="literal">auditbeat.yml</code> config file:</p><h4><a id="_literal_logging_to_syslog_literal"></a><code class="literal">logging.to_syslog</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>When true, writes all logging output to the syslog.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>This option is not supported on Windows.</p></div></div><h4><a id="_literal_logging_to_eventlog_literal"></a><code class="literal">logging.to_eventlog</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>When true, writes all logging output to the Windows Event Log.</p><h4><a id="_literal_logging_to_files_literal"></a><code class="literal">logging.to_files</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>When true, writes all logging output to files. The log files are automatically
rotated when the log file size limit is reached.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Auditbeat only creates a log file if there is logging output. For
example, if you set the log <a class="link" href="configuration-logging.html#level" title="logging.level"><code class="literal">level</code></a> to <code class="literal">error</code> and there are no
errors, there will be no log file in the directory specified for logs.</p></div></div><h4><a id="level"></a><code class="literal">logging.level</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Minimum log level. One of <code class="literal">debug</code>, <code class="literal">info</code>, <code class="literal">warning</code>, or <code class="literal">error</code>. The default
log level is <code class="literal">info</code>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">debug</code>
</span></dt><dd>
Logs debug messages, including a detailed printout of all events
flushed. Also logs informational messages, warnings, errors, and
critical errors. When the log level is <code class="literal">debug</code>, you can specify a list of
<a class="link" href="configuration-logging.html#selectors" title="logging.selectors"><code class="literal">selectors</code></a> to display debug messages for specific components. If
no selectors are specified, the <code class="literal">*</code> selector is used to display debug messages
for all components.
</dd><dt><span class="term">
<code class="literal">info</code>
</span></dt><dd>
Logs informational messages, including the number of events that are
published. Also logs any warnings, errors, or critical errors.
</dd><dt><span class="term">
<code class="literal">warning</code>
</span></dt><dd>
Logs warnings, errors, and critical errors.
</dd><dt><span class="term">
<code class="literal">error</code>
</span></dt><dd>
Logs errors and critical errors.
</dd></dl></div><h4><a id="selectors"></a><code class="literal">logging.selectors</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The list of debugging-only selector tags used by different Auditbeat components.
Use <code class="literal">*</code> to enable debug output for all components. For example add <code class="literal">publish</code> to display
all the debug messages related to event publishing.
When starting auditbeat, selectors can be overwritten using the <code class="literal">-d</code> command
line option (<code class="literal">-d</code> also sets the debug log level).</p><h4><a id="_literal_logging_metrics_enabled_literal"></a><code class="literal">logging.metrics.enabled</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>If enabled, Auditbeat periodically logs its internal metrics that have
changed in the last period. For each metric that changed, the delta from the
value at the beginning of the period is logged. Also, the total values for all
non-zero internal metrics are logged on shutdown. The default is true.</p><p>Here is an example log line:</p><div class="pre_wrapper lang-shell"><pre class="programlisting prettyprint lang-shell">2017-12-17T19:17:42.667-0500    INFO    [metrics]       log/log.go:110  Non-zero metrics in the last 30s: beat.info.uptime.ms=30004 beat.memstats.gc_next=5046416</pre></div><p>Note that we currently offer no backwards compatible guarantees for the internal
metrics and for this reason they are also not documented.</p><h4><a id="_literal_logging_metrics_period_literal"></a><code class="literal">logging.metrics.period</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The period after which to log the internal metrics. The default is 30s.</p><h4><a id="_literal_logging_files_path_literal"></a><code class="literal">logging.files.path</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The directory that log files are written to. The default is the logs path. See
the <a class="xref" href="directory-layout.html" title="Directory layout">Directory layout</a> section for details.</p><h4><a id="_literal_logging_files_name_literal"></a><code class="literal">logging.files.name</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The name of the file that logs are written to. The default is <span class="emphasis"><em>auditbeat</em></span>.</p><h4><a id="_literal_logging_files_rotateeverybytes_literal"></a><code class="literal">logging.files.rotateeverybytes</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The maximum size of a log file. If the limit is reached, a new log file is
generated. The default size limit is 10485760 (10 MB).</p><h4><a id="_literal_logging_files_keepfiles_literal"></a><code class="literal">logging.files.keepfiles</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The number of most recent rotated log files to keep on disk. Older files are
deleted during log rotation. The default value is 7. The <code class="literal">keepfiles</code> options has
to be in the range of 2 to 1024 files.</p><h4><a id="_literal_logging_files_permissions_literal"></a><code class="literal">logging.files.permissions</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The permissions mask to apply when rotating log files. The default value is
0600. The <code class="literal">permissions</code> option must be a valid Unix-style file permissions mask
expressed in octal notation. In Go, numbers in octal notation must start with
<span class="emphasis"><em>0</em></span>.</p><p>Examples:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
0644: give read and write access to the file owner, and read access to all others.
</li><li class="listitem">
0600: give read and write access to the file owner, and no access to all others.
</li><li class="listitem">
0664: give read and write access to the file owner and members of the group
associated with the file, as well as read access to all other users.
</li></ul></div><h4><a id="_literal_logging_files_interval_literal"></a><code class="literal">logging.files.interval</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Enable log file rotation on time intervals in addition to size-based rotation.
Intervals must be at least 1s. Values of 1m, 1h, 24h, 7*24h, 30*24h, and 365*24h
are boundary-aligned with minutes, hours, days, weeks, months, and years as
reported by the local system clock. All other intervals are calculated from the
unix epoch. Defaults to disabled.</p><h4><a id="_literal_logging_json_literal"></a><code class="literal">logging.json</code><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>When true, logs messages in JSON format. The default is false.</p><h4><a id="_literal_logging_files_redirect_stderr_literal_phrase_role_experimental_phrase"></a><code class="literal">logging.files.redirect_stderr</code> <span class="Admonishment Admonishment--experimental">
      [<span class="Admonishment-title u-mono">experimental</span>]
      <span class="Admonishment-detail">This functionality is experimental and may be changed or removed completely in a future release. Elastic will take a best effort approach to fix any issues, but experimental features are not subject to the support SLA of official GA features.</span></span><a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>When true, diagnostic messages printed to Auditbeat’s standard error output
will also be logged to the log file. This can be helpful in situations were
Auditbeat terminates unexpectedly because an error has been detected by
Go’s runtime but diagnostic information is not present in the log file.
This feature is only available when logging to files (<code class="literal">logging.to_files</code> is true).
Disabled by default.</p><h3><a id="_logging_format"></a>Logging format<a href="https://github.com/elastic/beats/edit/6.6/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The logging format is generally the same for each logging output. The one
exception is with the syslog output where the timestamp is not included in the
message because syslog adds its own timestamp.</p><p>Each log message consists of the following parts:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Timestamp in ISO8601 format
</li><li class="listitem">
Level
</li><li class="listitem">
Logger name contained in brackets (Optional)
</li><li class="listitem">
File name and line number of the caller
</li><li class="listitem">
Message
</li><li class="listitem">
Structured data encoded in JSON (Optional)
</li></ul></div><p>Below are some samples:</p><p><code class="literal">2017-12-17T18:54:16.241-0500   INFO    logp/core_test.go:13    unnamed global logger</code></p><p><code class="literal">2017-12-17T18:54:16.242-0500   INFO    [example]       logp/core_test.go:16    some message</code></p><p><code class="literal">2017-12-17T18:54:16.242-0500   INFO    [example]       logp/core_test.go:19    some message    {"x": 1}</code></p></div><div class="navfooter"><span class="prev"><a href="configuration-template.html">
              « 
              Load the Elasticsearch index template</a>
           
        </span><span class="next">
           
          <a href="using-environ-vars.html">Use environment variables in the configuration
               »
            </a></span></div>
                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
window.initial_state = {}</script>
  </body>
</html>
